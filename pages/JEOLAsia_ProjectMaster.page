<apex:page showHeader="false" standardStylesheets="true" applyHtmlTag="false" applyBodyTag="false" doctype="html-5.0" standardController="AsiaProjectMaster__c" extensions="JEOLAsia_ProjectMasterCtrl" >
<!--
<apex:page showHeader="false" standardStylesheets="true" applyHtmlTag="false" applyBodyTag="false" doctype="html-5.0" controller="JEOLAsia_ProjectMasterCtrl" >
-->
  <apex:outputPanel layout="none" id="contentPage">
    <html>
      <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Salesforce -{!qdm.parentRec.name}-</title>
        <apex:stylesheet value="{!URLFOR($Resource.JQueryUI, 'JQueryUI/jquery-ui.min.css')}" />
        <apex:stylesheet value="{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/bootstrap/css/bootstrap.css')}" />
        <apex:stylesheet value="{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/JEOL_CustomBaseStyle.css')}" />
<!--
        <apex:stylesheet value="{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/JEOL_QuotationListPage.css')}" />
-->
        <!--[if IE 8.0]>
        <style>
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item .quotation-detail-item[data-depth="0"] .indent-wrap:after {
            display: none;
          }
        </style>
        <script>
          document.createElement('button');
        </script>
        <![endif]-->

        <style>
          .header-row {
            display: table-row;
           }
          .header-row th {
            background-color: #dddddd !important;
            font-weight: normal;
            padding: 4px 8px;
          }
          .body-row {
            display: table-row;
          }
          .body-row td {
            border: 1px solid #dddddd;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            padding: 4px 8px;
          }
          td.action-col {
            overflow: visible;
          }
          td.action-col dropdown {
            position: relative;
          }


          .contents .page-header {
            z-index: 2;
            position :relative;
            margin-bottom: 42px;
          }
          .contents .contents-body .section .section-body hr {
            float: left;
          }
          .contents .contents-body .button-area .section-body .customButton {
            float: left;
          }
          .contents .contents-body .navi-area {
            background-color: #7e9bc1;
            box-shadow: 0 1px 3px rgba(0,0,0,0.15);
            width: 100%;
            position: absolute;
            top: 0px;
            left: 0px;
            margin-top: 49px;
          }
          .contents .contents-body .navi-area.fixed-top {
            z-index: 2;
            position: fixed;
            margin-top: 0px;
          }
          .contents .contents-body .navi-area .section-body {
            padding: 4px 8px;
            margin: 0px auto;
            position: relative;
            z-index: 1;
          }
          .contents .contents-body .navi-area .section-body .navi-buttons {
            float: left;
            margin-right: 16px;
          }
          .contents .contents-body .navi-area .section-body .navi-buttons.right {
            float: right;
            margin-right: 0px;
            margin-left: 16px;
          }
          .contents .contents-body .navi-area .section-body .navi-item {
            margin-right: -1px;
            float: left;
          }
          .contents .contents-body .navi-area .section-body .navi-item>* {
            border-radius: 0;
          }
          .contents .contents-body .navi-area .section-body .navi-item:first-child>* {
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
          }
          .contents .contents-body .navi-area .section-body .navi-item:last-child {
            margin-right: 0px;
          }
          .contents .contents-body .navi-area .section-body .navi-item:last-child>* {
            border-top-right-radius: 4px;
            border-bottom-right-radius: 4px;
          }
          .contents .contents-body .navi-area .section-body .navi-item div[data-type="dropdown"] button[data-type="button"] {
            width: auto;
            padding: 0px 16px;
            border-radius: 0px;
            margin: 0px auto;
            border: 1px solid #7e9bc1;
            color: #2f4159;
          }

          .contents .contents-body .quotation-area .section-body .quotation-information {
            box-shadow: 0 1px 3px rgba(0,0,0,0.15);
            border: 1px solid #ddd;
            background-color: #ffffff;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item {
            float: left;
            padding: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .field-label {
            font-size: 12px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item .quotation-item-header {
            width: 100%;
            border-radius: 2px;
            background-color: #becde0;
            margin: 0 0 4px 0;
            border: 1px solid transparent;
          }

          .backgroundcolorgrey {
            background-color: #dddddd !important;
          }

          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item .quotation-item-header .header-title {
            float: left;
            display: block;
            padding: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item.shipment-account-area .quotation-item-header .customButton {
            float: right;
            display: block;
            margin: 3px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item .quotation-item-body>* {
            float: left;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-item .quotation-item-body {
            width: 100%;
            border: 1px solid transparent;
            position: relative;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-header .quotation-detail-header-item {
            float: left;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-header .quotation-detail-header-item.customButton,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-header .quotation-detail-header-item.disabled-button {
            padding: 6px;
            margin: 3px 0px 3px 3px;
          }
          .refreshButton-disabled.disabled-button {
            cursor: wait;
          }
          .disabled-button .refresh-icon {
            border-top-color: #ddd;
            border-left-color: #ddd;
            border-bottom-color: #ddd;
            background-color: #f9f9f9;
          }
          .disabled-button .refresh-icon:before {
            border-left-color: #ddd;
          }
          .contents .quotation-detail-action {
            display: block;
            border: 1px solid transparent;
            width: 30px;
            padding: 0px;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item {
            border: 1px solid transparent;
            margin: 2px 0px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-type="3"] {
            background-color: #d9edeb;
            border-radius: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-type="4"] {
            background-color: #F9E4EC;
            border-radius: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-type="5"] {
            background-color: #abcdef;
            border-radius: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .quotation-detail-productName {
//            padding-left: 30px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-header .quotation-detail-header-item,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field {
            margin-left: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .indent-wrap {
            //height: 30px;
            position: relative;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .indent-wrap .field-value {
            height: 30px;
            resize: none;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .indent-wrap .field-value:noborder{
            height: 30px;
            resize: none;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .indent-wrap .field-value:focus {
            resize: vertical;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field:first-child {
            margin-left: 0px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .sortableAction {
            height: 30px;
            box-shadow: none;
            transition: box-shadow 0.1s linear 0s;
            background-color: #FFFFFF;
            border-radius: 4px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .sortableAction:hover {
            box-shadow: 0 1px 3px rgba(0,0,0,0.40);
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-childWrap-item .quotation-detail-item .field .sortableAction:hover {
            box-shadow: 0 1px 3px rgba(0,0,0,0.40) inset;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .sortableAction:active {
            cursor: row-resize;
            box-shadow: none;
            transition: none;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .optionalButton {
            width: 30px;
            padding: 4px 8px;
            border: 1px solid transparent;
            background-color: #FFF;
            color: #7e9bc1;
            text-decoration: none;
            display: inline-block;
            *display: inline;
            *zoom: 1;
            border-radius: 4px;
            transition: box-shadow 0.2s linear 0s, background-color 0.2s linear 0s, color 0.2s linear 0s;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .desabled-optionalButton {
            width: 30px;
            padding: 4px 8px;
            border: 1px solid transparent;
            background-color: #FFF;
            color: #7e9bc1;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field.open .optionalButton {
            background-color: #F2D350;
            border: 1px solid #fff;
            color: #fff;
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2) inset;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .optionalButton:hover {
            background-color: #F2D350;
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2);
            color: #fff;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field.open .optionalButton:hover {
            background-color: #F2D350;
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2) inset;
            color: #fff;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .optionalButton:focus {
            position: relative;
            border-color: #00ABFF;
            box-shadow: 0 1px 5px rgba(0,171,255,0.25);
            outline: none;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .optionalButton:active {
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2) inset;
            border: 1px solid #fff;

          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options {
            top: 2.4em;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item {
            width: 158px;
            cursor: default;
            margin: 0;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .field-value {
            margin: 0;
            vertical-align: middle;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item a {
            width: 100%;
            margin: 0px;
            vertical-align: middle;
            display: block;
            padding: 4px 16px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-header .configAction {
            width: 36px;
            border: 1px solid transparent;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .configAction {
            width: 40px;
            top: 3px;
            height: 30px;
            cursor: default;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .configAction .paragraph-option {
            float: left;
            display: block;
            width: 50%;
            text-decoration: none;
            height: 100%;
            vertical-align: middle;
            box-shadow: none;
            transition: box-shadow 0.1s linear 0s, background-color 0.1s linear 0s;
            font-size: 30px;
            line-height: 30px;
            color: #becde0;
            background-color: transparent;
            cursor: pointer;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .configAction .paragraph-option.paragraph-up {
            border-radius: 8px 0px 0px 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .configAction .paragraph-option.paragraph-down {
            border-radius: 0px 8px 8px 0px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .configAction .paragraph-option:hover {
            transition: none;
            box-shadow: 0 1px 3px rgba(0,0,0,0.20);
            color: #fff;
            background-color: #7FCC9E;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .configAction .paragraph-option:active {
            box-shadow: 0 1px 3px rgba(0,0,0,0.20) inset;
          }

          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .deleteAction {
            height: 30px;
            box-shadow: none;
            background-color: transparent;
            transition: box-shadow 0.1s linear 0s, background-color 0.1s linear 0s, color 0.1s linear 0s;
            font-weight: bold;
            border-radius: 30px;
            line-height: 30px;
            color: #becde0;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .deleteAction:hover {
            box-shadow: 0 1px 3px rgba(0,0,0,0.20);
            background-color: #E34B4B;
            color: #FFFFFF;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .deleteAction:focus {
            box-shadow: 0 1px 3px rgba(0,0,0,0.20);
            background-color: #E34B4B;
            color: #FFFFFF;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .deleteAction:active {
            transition: none;
            box-shadow: 0 1px 3px rgba(0,0,0,0.40) inset;
          }

          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .sortableAction .sortable-pointer {
            width: 18px;
            height: 18px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAoUlEQVR42u3bUQ0AIQxEwSpHCGYqjRpAwDaZl6yBzid3dW4/y1k5AhADAsSAADEgQAwIEIcAYkCAGBAgBgSIAQFiQOwPIkmSJEmSJEmSJEmKyTu2jxwMCBADAsSAADEgQBwCiAEBYkCAGBAgBgSIATEg/lOXJEmSJEmSJEmSFJ5nU2/qBgSIAQFiQIAYECAOAcSAADEgQAwIEAMCxIAYkA0br9/OdIXF4wsAAAAASUVORK5CYII=');
            background-repeat: no-repeat;
            background-position: center, center;
            background-size: 18px 14px;
            margin-top: 50%;
            top: -9px;
            position: relative;
            display: inline-block;
            *display: inline;
            *zoom: 1;
            vertical-align: middle;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .panel-area {
            border: none;
            width: 45px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .panel-area .option-view-panel {
            float: left;
            width: 15px;
            height: 15px;
            border: none;
            border-radius: 2px;
            background-color: #eee;
            transition: background-color 0.2s linear 0s, box-shadow 0.2s linear 0s, color 0.2s linear 0s, box-shadow 0.2s linear 0s;
            font-size: 11px;
            text-align: center;
            line-height: 15px;
            cursor: pointer;
            color: #fff;
            font-weight: bold;
            text-shadow: 1px 1px 0px #999, -1px -1px 0px #999, -1px 1px 0px #999, 1px -1px 0px #999;
          }
          /*
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .panel-area:hover .option-view-panel:hover {
            width: 30px;
            height: 30px;
            line-height: 30px;
            font-size: 14px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .panel-area:hover .option-view-panel {
            width: 0px;
            height: 0px;
            overflow: hidden;
          }
          */
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .tax,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .overhead,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .showAmount,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .accompanyingPaperOutput,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .commissionTarget {
            width: 14px;
            height: 14px;
            display: inline-block;
            *display: inline;
            *zoom: 1;
            vertical-align: middle;
            margin-left: 8px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-tax-target="true"] .field .panel-area .option-view-panel.tax,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-overhead-target="true"] .field .panel-area .option-view-panel.overhead,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-show-target="true"] .field .panel-area .option-view-panel.showAmount,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-accompanying-paper-output="true"] .field .panel-area .option-view-panel.accompanyingPaperOutput,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-commission-target="true"] .field .panel-area .option-view-panel.commissionTarget {
            box-shadow: 0px 1px 3px rgba(0,0,0,0.4) inset;
            color: #666;
            text-shadow: 1px 1px 0px #fff, -1px -1px 0px #fff, -1px 1px 0px #fff, 1px -1px 0px #fff;
          }

          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .tax,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-tax-target="true"] .field .panel-area .option-view-panel.tax {
            background-color: #7E8DC6;
            color: #2E385D;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .overhead,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-overhead-target="true"] .field .panel-area .option-view-panel.overhead {
            background-color: #6EBBB3;
            color: #346E68;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .showAmount,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-show-target="true"] .field .panel-area .option-view-panel.showAmount {
            background-color: #FFC396;
            color: #60412A;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .accompanyingPaperOutput,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-accompanying-paper-output="true"] .field .panel-area .option-view-panel.accompanyingPaperOutput {
            background-color: #FFDF96;
            color: #665736;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item .field .detail-options .detail-options-item .commissionTarget,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list .quotation-detail-item[data-commission-target="true"] .field .panel-area .option-view-panel.commissionTarget {
            background-color: #DB81A5;
            color: #9A2D59;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .create-action-area .quotation-item-body {
            padding-left: 38px;
            position: relative;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .create-action-area .quotation-item-body .add-default-detail {
            float: left;
            border-radius: 4px 0 0 4px;
            margin-right: -1px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .create-action-area .quotation-item-body .add-optional-details {
            float: left;
            border-radius: 0 4px 4px 0;
          }
          .contents .drag-placeholder {
            margin: 2px;
          }
          .contents .drag-placeholder>* {
            border-right: 1px dashed #ccc;
            display: block;
            border: 1px solid transparent;
            overflow: hidden;
            border-radius: 4px;
          }
          .contents .drag-placeholder>*:after {
            padding: 5px 4px;
            text-align: center;
            margin: 4px 12px 4px 4px;
            border-radius: 4px;
            border: 1px dashed #CCC;
            background-color: #f6f6f6;
            color: #f6f6f6;
            position: relative;
            content: ".";
            display: block;
            left: 0px;
          }
          .contents .quotation-detail-childWrap-item {
            border: 1px dashed #7e9bc1;
            margin: -1px;
            overflow: hidden;
          }
          .contents .quotation-detail-childWrap-item>* {
            float: left;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-note-area {
            margin-top: 48px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-note-area .quotation-item-body .field .field-label {
            text-align: left;
            padding: 0 8px;
          }
          .contents .contents-body .action-area .section-body .save {
            float: left;
          }

          .contents .contents-body .quotation-detail-item .field .indent-wrap {
            position: relative;
            left: 0px;
            transition: left 0.2s linear 0s;
          }
          .contents .contents-body .quotation-detail-item[data-depth="0"] .indent-wrap {
            left: 0px;
          }
          .contents .drag-placeholder [data-depth="0"]:after {
            left: 82px;
          }
          .contents .contents-body  .quotation-detail-item[data-discount-target="true"] .quotation-detail-Amount {
            color: #999;
            text-decoration: line-through;
          }
          .contents .contents-body  .quotation-detail-item[data-depth="0"][data-discount-target="false"] .quotation-detail-Amount {
            font-weight: bold;
          }
          .contents .contents-body .quotation-detail-item[data-depth="1"] .indent-wrap {
            left: 24px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="1"] .indent-wrap:after {
            color: #444;
          }
          .contents .drag-placeholder [data-depth="1"]:after {
            left: 106px
          }
          .contents .contents-body .quotation-detail-item[data-depth="2"] .indent-wrap {
            left: 48px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="2"] .indent-wrap:after {
            color: #666;
          }
          .contents .drag-placeholder [data-depth="2"]:after {
            left: 130px
          }
          .contents .contents-body .quotation-detail-item[data-depth="3"] .indent-wrap {
            left: 72px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="3"] .indent-wrap:after {
            color: #888;
          }
          .contents .drag-placeholder [data-depth="3"]:after {
            left: 154px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="4"] .indent-wrap {
            left: 96px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="4"] .indent-wrap:after {
            color: #aaa;
          }
          .contents .drag-placeholder [data-depth="4"]:after {
            left: 178px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="5"] .indent-wrap {
            left: 120px;
          }
          .contents .contents-body .quotation-detail-item[data-depth="5"] .indent-wrap:after {
            color: #ccc;
          }
          .contents .drag-placeholder [data-depth="5"]:after {
            left: 202px;
          }
          .contents .contents-body .quotation-detail-item .indent-wrap:after {
            content: "â”—";
            position: absolute;
            top: 8px;
            left: 0px;
            opacity: 0;
            z-index: -1;
            transition: opacity 0.1s linear 0.1s, left 0.2s linear 0s;
          }
          .contents .contents-body .quotation-detail-item[data-depth="1"] .indent-wrap:after,
          .contents .contents-body .quotation-detail-item[data-depth="2"] .indent-wrap:after,
          .contents .contents-body .quotation-detail-item[data-depth="3"] .indent-wrap:after,
          .contents .contents-body .quotation-detail-item[data-depth="4"] .indent-wrap:after,
          .contents .contents-body .quotation-detail-item[data-depth="5"] .indent-wrap:after {
            z-index: 1;
            opacity: 1.0;
            left: -24px;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list>.quotation-detail-item:first-child .field .configAction .paragraph-option,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations .quotation-detail-list>.quotation-detail-childWrap-item:first-child>.quotation-detail-item:first-child .field .configAction .paragraph-option{
            display: none;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .contract-account-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .shipment-account-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .basic-information-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .option-field-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .organization-information-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .create-action-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .basic-Informations-section-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .total-amount-area {
            width: 50%;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .rate-area {
            width: 100%;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .profit-Calculation-Informations-area {
            width: 100%;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .contract-account-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .shipment-account-area {
            min-height: 320px;
          }


          .contents .contents-body .quotation-area .section-body .quotation-information .total-amount-area .quotation-item-body .field .subtitleLabel,
          .contents .contents-body .quotation-area .section-body .quotation-information .total-amount-area .quotation-item-body .field .customReductionTitle {
            margin: 0px 10px 0px 88px;
            text-align: right;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations {
            position: relative;
          }
          .contents .contents-body .quotation-area .section-body .quotation-information .main-information-area,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-detail-informations,
          .contents .contents-body .quotation-area .section-body .quotation-information .quotation-note-area {
            width: 100%;
          }
          .contents .contents-body .memo-area .section-body {
            box-shadow: 0 1px 3px rgba(0,0,0,0.15);
            border: 1px solid #ddd;
            background-color: #ffffff;
            padding: 8px;
            border-radius: 8px;
          }
          .contents .contents-body .memo-area .section-body .panel,
          .contents .contents-body .memo-area .section-body .panel .panel-header,
          .contents .contents-body .memo-area .section-body .panel .panel-body,
          .contents .contents-body .memo-area .section-body .panel .panel-body textarea {
            width: 100%;
            margin: 0;
          }
          .add-space {
            margin-top: 20px
          }

          .total-amount-area .quotation-item-body .field .field-value.commissionRate,
          .total-amount-area .quotation-item-body .field .field-value.taxRate {
            width: 36px;
          }
          .quotation-item .quotation-item-header .quotation-detail-action,
          .deliveryPeriod,
          .quoteValidityPeriod {
            width: 32px;
          }
          .month:after {
            content: "{!$Label.JEOL_QuotEdit_Label_Month}";

          }
          .quotation-detail-quantityUnit {
            width: 45px;
          }
          .groupLeaderApproval,
          .branchManagerApproval,
          .quotation-detail-quantity,
          .quotation-detail-overheadRate,
          .quotation-detail-commissionRate,
          .quotation-detail-discountRate,
          .contents .field .field-label[for="discountRate"] {
            width: 60px;
          }
          .field.toggle .deliveryCondition1 {
            width: 61px;
          }

          .contents .field .field-label[for="discountAmount"] {
            width: {!IF(language <> 'ja', '126px;', '72px')};
          }
          .series,
          .master-quantityUnit,
          .master-productPrice,
          .quotation-detail-quantityUnit-rate {
            width: 80px;
          }
          .contents .field .field-label[data-target="deliveryDeadline"] {
            width: 82px;
          }
          .deliveryCondition1 {
            width: 90px;
          }
          .contents .field.toggle .field-value.contractCode,
          .contents .field.toggle .field-value.shipmentCode {
            width: 67px;
            border-radius: 4px 0px 0px 4px;
            transition: border-color 0.2s linear 0s, box-shadow 0.2s linear 0s;
          }
          .contractCodeView {
            width: 97px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }

          .contractNameView {
            width: 300px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }

          .contractNameView2 {
            width: 240px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }

          .contractBelongView {
            width: 150px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }

          .deliveryLocationSectionView {
            width: 110px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }

          .deliveryLocationTextView {
            width: 287px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }
          .unitBodyView {
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }
          .otherTextView {
            width: 910px;
            border-radius: 4px 0px 0px 4px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            overflow: hidden;
            white-space: nowrap;
            }
          .shipmentCode + .productSearchButton,
          .contractCode + .productSearchButton {
            float: none;
            vertical-align: middle;
          }
          .quotationDivision,
          .contractCode,
          .shipmentCode,
          .shipmentDistanceZone {
            width: 96px;
          }
          .contents .field .field-value.deliveryDeadline,
          .contents .field .field-value.quoteExpirationDate {
            width: 98px;
          }
          .contents .field .field-value.postalCode {
            padding: 4px 8px 4px 24px;
            width: 100px;
          }
          .quotation-detail-UnitPrice {
            width: 94px;
          }

          .contents .field .field-label.quotationLimitDateLabel {
            width: {!IF(language <> 'ja', '111px', '108px')};
          }

          .contents .field .field-label[for="quoteNo"],
          .contents .field .field-label[for="quotationType"],
          .contents .field .field-label[for="createdByName"],
          .contents .field .field-label[for="issueDate"],
          .contents .field .field-label[for="printedDate"],
          .contents .field .field-label[for="quotationRequestedDate"],
          .contents .field .field-label[for="customerQuotationRequestedNo"],
          .contents .field .field-label[for="groupLeaderApproval"],
          .contents .field .field-label[for="branchManagerApproval"] {
            width: 112px;
          }

          .quotationRequestedDate,
          .issueDate {
            margin-left: -4px;
          }

          .quotation-detail-Amount,
          .quotation-detail-totalDiscountAmount  {
            margin-left: 4px;
            width: 112px;
          }
          .contents .field .field-value.quotation-detail-ModelType {
            width: 109px;
          }
          .contents .field.toggle .field-value.quotation-detail-ModelType {
            width: 80px;
            position: relative;
            border-radius: 4px 0px 0px 4px;
            float: left;
            transition: border-color 0.2s linear 0s, box-shadow 0.2s linear 0s;
          }

          .contents .field .field-value.salesAreaBis {
            /* width: 149px; modified for mitsumori shutsuyoku popup by mkubomura 20150821 */
            width: 108px;
          }
          .contents .field.toggle .field-value.salesAreaBis {
            /* width: 120px; modified for mitsumori shutsuyoku popup by mkubomura 20150821 */
            width: 79px;
            position: relative;
            border-radius: 4px 0px 0px 4px;
            float: left;
            transition: border-color 0.2s linear 0s, box-shadow 0.2s linear 0s;
          }

          .contents .field .field-value.quotation-detail-ModelType.not-found-alert{
            border-color: #e34b4b;
            box-shadow: 0px 1px 3px rgba(227, 75, 75, 0.4), 0px 1px 3px rgba(0,0,0,0.15) inset;
          }
          .contents .field .field-value.quotation-detail-ModelType.not-found-alert:focus {
            box-shadow: 0 1px 5px rgba(0,0,0,0.30) inset, 0px 1px 3px rgba(227, 75, 75, 0.4);
          }
          .contents .field.toggle .field-value + .productSearchButton {
            display:inline-block;
            *display: inline;
            *zoom: 1;
          }

          .contractPersonInCharge,
          .shipmentPersonInCharge,
          .quotation-detail-header-item.quotation-detail-ModelType,
          .deliveryLocationSection,
          .durationYear,
          .paymentConditionSection {
            width: 112px;
          }

          .quotation-detail-header-item.quotation-detail-productName.quotation-detailA-productName,
          .quotation-detail-header-item.quotation-detail-productName.quotation-detailB-productName {
            margin-top: 8px;
          }
          .quotation-detail-header-item.quotation-detail-ModelType.quotation-detailA-ModelType {
            margin-top: 8px;
          }
          .quotation-detail-header-item.quotation-detail-quantity.quotation-detailA-quantity,
          .quotation-detail-header-item.quotation-detail-quantity.quotation-detailB-quantity {
            margin-top: 8px;
          }
          .quotation-detail-header-item.quotation-detail-UnitPrice.quotation-detailA-UnitPrice,
          .quotation-detail-header-item.quotation-detail-UnitPrice.quotation-detailB-UnitPrice {
            margin-top: 8px;
          }
          .quotation-detail-header-item.quotation-detail-CatalogCurrency.quotation-detailA-CatalogCurrency,
          .quotation-detail-header-item.quotation-detail-CatalogCurrency.quotation-detailB-CatalogCurrency {
            margin-top: 8px;
            margin-right: -8px;
          }
          .quotation-detail-header-item.quotation-detail-CostPrice.quotation-detailA-CostPrice,
          .quotation-detail-header-item.quotation-detail-CostPrice.quotation-detailB-CostPrice {
            text-align: center;
          }
          .quotation-detail-header-item.quotation-detail-SalesPrice.quotation-detailA-SalesPrice,
          .quotation-detail-header-item.quotation-detail-SalesPrice.quotation-detailB-SalesPrice {
            text-align: center;
          }
          .quotation-detail-header-item.quotation-detail-Description.quotation-detailB-Description {
            margin-top: 8px;
          }
          .quotation-detail-header-item.quotation-detail-Supplier.quotation-detailB-Supplier {
            margin-top: 8px;
            margin-left: 16px !important;
          }


          .quotation-detail-Description.quotation-detailB-Description {
            width: 130px;
          }
          .quotation-detail-CostPrice.quotation-detailB-CostPrice {
            width: 70px;
          }
          .quotation-detail-Supplier.quotation-detailB-Supplier {
            width: 106px;
          }

          .contents .field.toggle .field-value.unitBody {
            width: 122px;
            position: relative;
            border-radius: 4px 0px 0px 4px;
          }
          .contents .field .field-label[data-target="deliveryDate_Arbitrarily"] {
            width: {!IF(language <> 'ja', '127px;', '144px')};
          }

          .createdByName,
          .createdDate {
            width: 148px;
          }
          .contractBelong,
          .contractPost,
          .contractPhone,
          .contractFax,
          .shipmentBelong,
          .shipmentPost,
          .shipmentPhone,
          .shipmentFax,
          .quoteNo,
          .branchNo,
          input.registerDate,
          input.issueDate,
          input.quotationRequestedDate,
          .printedDate,
          .SalesArea,
          .quotation-detail-discountAmount,
          .unitBody,
          .acceptanceDate {
            width: 150px;
          }

          .quotationTypeView {
            width: 78px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            }

          .field.toggle .salesAreaCode,
          .field.toggle .department,
          .field.toggle .quotationType {
            width: 79px;
          }
          .department,
          .salesAreaCode,
          .quotationType {
            width: 108px;
          }
          .departmentView {
            width: 108px;
            border-bottom: 0px;
            display: inline-block;
            padding: 4px 8px;
            height: 30px;
            vertical-align: middle;
            }

          .contents .field .field-label[data-target="deliveryPeriod"] {
            width: {!IF(language <> 'ja', '127px;', '156px')};
          }

          .total-amount-area .quotation-item-body .field .field-value,
          .salesPerson,
          .orgPhone,
          .salesAssistant {
            width: 172px;
          }
          .master-productName,
          .master-ModelType {
            width: 180px;
          }
          .quotationSubtitleOutput,
          .quotationTotalAmountOutput {
            width: 192px;
          }
          .master-acountName {
            width: 200px;
          }
          .total-amount-area .quotation-item-body .field .field-label {
            width: 269px;
          }

          .organization-information-area .quotation-item-body .field .field-label {
            width: 120px;
          }

          .deliveryLocationText,
          .deliveryCondition2,
          .paymentConditionText {
            width: 282px;
            margin: 0 0 0 8px;
          }
          .contractName,
          .shipmentName {
            width: 250px;
            margin: 0 0 0 8px;
          }
          .lastModifiedDate,
          .orgName,
          .shipmentDistanceSection {
            width: 256px;
          }
          .customerQuotationRequestedNo {
            width: 384px;
          }
          .master-acountAddress {
            width: 308px;
          }
          .quotation-detail-productName {
            width: 320px;
          }

          .quotation-detail-productName.quotation-detailA-productName {
            width: 420px;
          }
          .quotation-detail-productName.quotation-detailB-productName {
            width: 280px;
          }
          .quotation-detail-quantity.quotation-detailA-quantity {
            width: 50px;
          }
          .quotation-detail-UnitPrice.quotation-detailA-UnitPrice {
            width: 70px;
          }
          .quotation-detail-CatalogCurrency.quotation-detailA-CatalogCurrency,
          .quotation-detail-CatalogCurrency.quotation-detailB-CatalogCurrency {
            width: 50px;
          }
          .quotation-detail-CostPrice.quotation-detailA-CostPrice {
            width: 95px;
          }
          .quotation-detail-CostPriceUnit.quotation-detailA-CostPriceUnit {
            width: 50px;
          }
          .quotation-detail-SalesPrice.quotation-detailA-SalesPrice,
          .quotation-detail-SalesPrice.quotation-detailB-SalesPrice {
            width: 70px;
          }
          .deliveryDate_Arbitrarily {
            width: 352px;
          }
          .contractAddress,
          .shipmentAddress,
          .contractUndergraduate,
          .shipmentUndergraduate,
          .orgAddress {
            width: 400px;
          }

          .quotation-detail-overheadBody,
          .quotation-detail-commissionBody {
            width: 437px;
          }
          .name,
          .otherText {
            width: 918px;
          }
          .contents .field.toggle .name {
            width: 888px;
            position: relative;
            border-radius: 4px 0px 0px 4px;
          }
          .quotation-detail-subtotalBody {
            width: 681px;
          }
          .quotation-detail-headingBody {
            width: 915px;
          }
          .quotation-note-area .quotation-item-body .field,
          .quotation-note-area .quotation-item-body .field .field-value {
            width: 100%
          }
          .number {
            text-align: right;
          }
          .section-separator {
            border-top: 1px solid #7e9bc1;
            padding: 0px;
            margin: 0 auto;
            width: 100%;
          }
          .productSearchButton {
            width: 30px;
            height: 30px;
            display: none;
            border: 1px solid silver;
            background-color: #fff;
            border-radius: 0px 4px 4px 0px;
            text-align: center;
            line-height: 40px;
            margin-left: -1px;
            float: right;
          }
          .productSearchButton:hover {
            background-color: #f2f5f8;
            border-color: #00ABFF;
            text-decoration: none;
            box-shadow: 0px 1px 5px rgba(0,171,255,0.25);
            position: relative;
          }
          .productSearchButton
          Button:before {
            background-color: #becde0;
            display: block;
            content: " ";
            position: absolute;
            border-radius: 2px;
            width: 4px;
            height: 12px;
            top: 0px;
            left: 0px;
            right: 0px;
            bottom: 0px;
            margin: auto;
          }
          .productSearchButton:hover {
            background-color: #f2f5f8;
            border-color: #00ABFF;
            text-decoration: none;
            box-shadow: 0px 1px 5px rgba(0,171,255,0.25);
            position: relative;
          }
          .productSearchButton:focus {
            position: relative;
            border-color: #00ABFF;
            box-shadow: 0 1px 5px rgba(0,171,255,0.25);
            outline: none;
          }
          .productSearchButton:active {
            background-color: #f2f5f8;
            border-color: #00ABFF;
            text-decoration: none;
            position: relative;
            box-shadow: 0px 1px 5px rgba(0,171,255,0.25) inset;
          }
          .productSelectButton {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 20px;
            height: 20px;
            border: 2px solid #becde0;
            display: block;
            background: none;
            background-color: #fff;
            border-radius: 20px;
            transform: none;
            transition: box-shadow 0.1s linear 0s, transform 0.1s linear 0s;
            cursor: pointer;
          }
          .productSelectButton:before {
            background-color: #becde0;
            display: block;
            content: " ";
            position: absolute;
            border-radius: 2px;
            width: 4px;
            height: 12px;
            top: 0px;
            left: 0px;
            right: 0px;
            bottom: 0px;
            margin: auto;
          }
          .productSelectButton:after {
            background-color: #becde0;
            display: block;
            content: " ";
            position: absolute;
            border-radius: 2px;
            width: 12px;
            height: 4px;
            top: 0px;
            left: 0px;
            right: 0px;
            bottom: 0px;
            margin: auto;
          }
          .productSelectButton:hover {
            border-color: #7e9bc1;
            box-shadow: 1px 0px 3px rgba(0,0,0,0.20);
            transform: rotate(90deg);
          }
          .productSelectButton:hover:before {
            background-color: #7e9bc1;
          }
          .productSelectButton:hover:after {
            background-color: #7e9bc1;
          }
          .productSelectButton:active {
            cursor: pointer;
            box-shadow: 1px 0 3px rgba(0,0,0,0.40) inset;
          }
          .contents div[data-type="dropdown"] {
            display: block;
            position: relative;
          }
          .contents div[data-type="dropdown"]:after {
            content: "";
            display: block;
            height: 0px;
            clear: both;
          }
          .contents div[data-type="dropdown"] *[data-type="label"] {
            display: block;
            float: left;
          }
          .contents div[data-type="dropdown"] input[type="text"][data-type="input-field"] {
            display: block;
            float: left;
            border-radius: 4px 0px 0px 4px;
            border: 1px solid silver;
            box-shadow: 0 1px 3px rgba(0,0,0,0.15) inset;
            transition: box-shadow 0.1s linear 0s;
            height: 30px;
          }
          .contents div[data-type="dropdown"] input[type="text"][data-type="input-field"] + .productSearchButton {
            float: left;
            border-radius: 0px;
          }
          .contents div[data-type="dropdown"] input[type="text"][data-type="input-field"]:focus {
            position: relative;
          }
          .contents div[data-type="dropdown"] button[data-type="button"] {
            display: block;
            float: left;
            margin: 0px 0px 0px -1px;
            border-radius: 0px 4px 4px 0px;
            border: 1px solid silver;
            height: 30px;
            background-image: none;
            font-weight: normal;
            background-color: #fff;
            padding: 0px;
            text-aling: center;
            color: #7FCC9E;
            width: 20px;
            transition: box-shadow 0.2s linear 0s, background-color 0.2s linear 0s, border 0.2s linear 0s;
          }
          .contents div[data-type="dropdown"] button[data-type="button"]:hover {
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2);
            background-color: #f2f5f8;
          }
          .contents div[data-type="dropdown"] button[data-type="button"]:active {
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2) inset;
            background-color: #f2f5f8;
          }
          .contents div[data-type="dropdown"] button[data-type="button"]:focus {
            background-color: #f2f5f8;
            border-color: #00ABFF;
            box-shadow: 0px 1px 3px rgba(0,0,0,0.2) inset, 0 1px 5px rgba(0,171,255,0.25);
            outline: none;
          }
          .contents div[data-type="dropdown"].open ul[data-type="list"] {
            display: block;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] {
            display: none;
            position: absolute;
            height: auto;
            background-color: #fff;
            border: 1px solid silver;
            border-radius: 0px 0px 4px 4px;
            z-index: 2; <!-- Changed from 1 by Polus (2015/06/09) because the buttons "+" were appearing inside the dropdown -->
            top: 32px;
            right: 0px;
            box-shadow: 0px 2px 4px rgba(0,0,0,0.3);
            overflow: hidden;
          }
          .contents div.top[data-type="dropdown"] ul[data-type="list"] {
            bottom: 100%;
            top: auto;
            border-radius: 4px 4px 0px 0px;
          }
          .contents div[data-type="dropdown"] ul.scroll[data-type="list"] {
            max-height: 158px;
            overflow-y: auto;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] li hr {
            margin: 0px;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"] {
            padding: 0px;
            min-width: 76px;
            text-align: left;
            cursor: pointer;
            white-space: nowrap;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"]:hover {
            background-color: #f2f5f8;
          }

          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"]:hover hr {
            margin: 4px;
          }

          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"].close-option {
            text-align: center;
            width: 100%;
            margin: 0px;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"] a {
            padding: 4px 16px;
            display: block;
            width: 100%;
            text-decoration: none;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"] a:empty {
            height: 24px;
          }
          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"] a:focus {
            background-color: #f2f5f8;
            outline: none;
          }

          .contents div[data-type="dropdown"] ul[data-type="list"] li[data-type="item"].close-option .closeButton {
            text-decoration: none;
            display: block;
            height: 30px;
            line-height: 30px;
            width: 100%;
          }
          .ajax-status-start {
            width: 100%;
            height: 100%;
            background-color: transparent;
            position: absolute;
            top: 0px;
            left: 0px;
            z-index: 1;
            text-align: center;
            font-size: 20px;
            color: #666;
          }
          .ajax-status-start-page {
            width: 100%;
            height: 100%;
            background-color: transparent;
            position: fixed;
            top: 0px;
            left: 0px;
            z-index: 10000;
            text-align: center;
            font-size: 20px;
            color: #666;
          }
          .ajax-status-start .ajax-status-start-inner {
            position: absolute;
            top: 0px;
            left: 0px;
            right: 0px;
            height: 100%;
            margin: auto;
          }
          .ajax-loading:before {
            content: "";
            background-repeat: no-repeat;
            background-image: url("{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/images/ajax-2.gif')}");
            background-position: center center;
            display: block;
            position: absolute;
            top: 0px;
            left: 0px;
            right: 0px;
            bottom: 0px;
            height: 100%;
            width: 100%;
            z-index: 2;
          }
          .ajax-loading:after {
            content: "";
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0px;
            left: 0px;
            z-index: 1;
            background-image: url("{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/images/alpha-bg.png')}");
          }
          .contents .contents-body .section.error-area {
            padding: 0px;
            margin-bottom: 0px;
          }
          .field.ajaxRequestStatus {
            width: 100%;
            padding-left: 100px;
            margin: 0px;
          }
          .field.ajaxRequestStatus .ajaxStatusView {
            line-height: 30px;
            margin-left: 8px;
            color: #22816b;
          }
          .contents .field input.field-value.reference-field-hidden {
            height: 0px;
            width: 0px;
            padding: 0px !important;
            border: none;
            visibility: collapse;
          }
          .requireField:before {
            content: "â€»";
            display: inline;
            color: #e34b4b;
          }
          input::-webkit-calendar-picker-indicator {
            display: none;
          }
          .rate-title {
            text-align:center;
            background-color: #E6E6E6;
          }
        </style>

        <apex:includeScript value="{!URLFOR($Resource.JQuery)}" />
        <apex:includeScript value="{!URLFOR($Resource.JQueryUI, 'JQueryUI/jquery-ui.min.js')}" />
        <apex:includeScript value="{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/bootstrap/js/bootstrap.min.js')}" />
        <apex:includeScript value="{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/PagerHelper.js')}" />

        <script>
            var $j = jQuery.noConflict();
            var safety = {!ISBLANK(qdm.parentRec.id)};
            var makeSafetyCheck = true;
            var makeSafetyCheck2 = true;
            var lastSuggest = 0;
            var lastsuggestval = '';
            var isMouseDown = false;
            var isRemoveMode = true;

console.log('script:start');
            $j(function(){
                var windwTransitions = (function(e){
console.log('windwTransitions');
                    if (makeSafetyCheck2 && (makeSafetyCheck || document.activeElement.type === 'text')) {
                        var currentFocus = document.querySelector(':focus');
                        if (currentFocus && typeof currentFocus !== 'undefined') {
                            currentFocus.blur();
                        }
                        if (safety) {
                            e.returnValue = 'å†…å®¹ã«å¤‰æ›´ãŒã‚ã‚Šã¾ã—ãŸã€‚ä¿å­˜ã›ãšã«ãƒšãƒ¼ã‚¸ã‹ã‚‰é›¢ã‚Œã¾ã™ã‹ï¼Ÿ';
                        } else {
                            safety = true;
                        }
                    }
                });

                if (window.addEventListener) {
                    window.addEventListener('beforeunload', windwTransitions);
                } else if (window.attachEvent) {
                    window.attachEvent('onbeforeunload', windwTransitions);
                } else {
                    console.log("ç”»é¢é·ç§»æ™‚ã«è­¦å‘Šã‚’å‡ºã›ã¾ã›ã‚“ã€‚ã”æ³¨æ„ãã ã•ã„ã€‚");
                }

                var $window = $j(window);
                $window.on('click', clearAction);

                $window.on('scroll',function(e){
                    var beforeTop = window.beforeTop;
                    var currentTop = $window.scrollTop();
                    if (!beforeTop) {
                        beforeTop = 0;
                    }
                    if (beforeTop < currentTop && currentTop > 48) {
                        $j('.navi-area').addClass('fixed-top');
                    } else if ((beforeTop > currentTop && currentTop <= 48) || currentTop == 0) {
                        $j('.navi-area').removeClass('fixed-top');
                    }
                    window.beforeTop = currentTop;
                });

                $window.on('keydown',function(e){
                    var $dropdown = $j('.open[data-type="dropdown"]');
                    if (/(38|40|27)/.test(e.which) && $dropdown.length) {
 console.log('keydown');
                        e.preventDefault();
                        e.stopPropagation();

                        if (e.which == 27) {
                            $dropdown.removeClass('open');
                            $dropdown.find('[data-type="button"]').trigger('focus');
                        }

                        var $items = $dropdown.find('[data-type="list"] [data-type="item"]');
                        var $target = $j(e.target);
                        if ($target.attr('data-type') !== 'item') {
                            $target = $target.closest('[data-type="item"]');
                        }

                        var target = null;
                        if ($target.length) {
                          target = $target[0];
                        }
                        var index = 0;
                        if (target) {
                            index = $items.index(target);
                            if (e.which == 38 && index > 0) {
                                index--;
                            }
                            if (e.which == 40 && index < $items.length - 1) {
                                index++;
                            }
                        }
                        $items.eq(index).find('a,input').trigger('focus');
                    }
                });
 console.log('contentInit:before');
                contentInit();
            });

            // ã‚¢ãƒ³ãƒ­ãƒƒã‚¯
            function unlockSafety() {
                safety = false;
 console.log('unlockSafety');
            }
            // ãƒ­ãƒƒã‚¯
            function lockSafety() {
                safety = true;
 console.log('lockSafety');
            }

            function contentInit() {
 console.log('contentInit');
//                initWithCalcurate();
                $j('#selected-list').droppable(droppableOption);
                $j('#selected-list-catalog').droppable(droppableOption_catalog);
                var division = '{!productDivision}';
                var radioItems = $j('.search-area .field .radio-item input[type="radio"][value="' + division + '"]');
                radioItems.prop('checked', true);
                $j('.search-area .field .radio-item input.productDivision[type="text"]').val(division);
                //$j('.content-panel').draggable({handle: ".content-header"});
                //$j('.subwindow').draggable({handle: '.content-header'});
                $j('#detailProductItemView').on('hidden.bs.modal', function () {
                    $j('#detailProductItemView .selected-list .drop-target').empty();
                    detailProductItemManage.setTargetNode(null);
                    detailProductCatalogManage.setTargetNode(null);
                });
            }

            // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³å‡¦ç†
            function dropdownAction(target) {
console.log('dropdownActiontarget:target = ' + target);

                var $target = $j(target).closest('[data-type="dropdown"]');
                if ($target.hasClass('open')) {
                    $target.removeClass('open');
                } else {
                    $j('.open').removeClass('open');
                    $target.addClass('open');
                }
console.log('dropdownActiontarget:$target = ' + $target);
            }

            // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¯ãƒªã‚¢
            function clearAction(e) {
console.log('clearAction');
                var $target = $j(e.target).closest('[data-type="dropdown"]');
                if (!$target.hasClass('open')) {
                    var $dropdown = $j('.open[data-type="dropdown"]');
                    $dropdown.removeClass('open');
                    //$dropdown.find('[data-type="button"]').trigger('focus');
                }
            }

            // å…¥åŠ›å€¤åæ˜ 
            function setInputField(target) {
console.log('setInputField');

                var $target = $j(target);
                var $dropdown = $target.closest('[data-type="dropdown"]');
                var $inputField = $dropdown.find('[data-type="input-field"]');
                if ($target.attr('data-type') !== 'item') {
                    $target = $target.closest('[data-type="item"]');
                }
                $inputField.val($target[0].getAttribute('data-value'));
                $inputField.trigger('focus');
                dropdownAction(target);
            }
            function setSortableA() {
console.log('setSortableA');
                var sortableArea = $j('.quotation-detail-listA');
                sortableArea.sortable(sortableOptionA);
            }
            function addDepth(target){
console.log('addDepth');
                var targetRow = $j(target).closest('.quotation-detail-item');
                var targetBefore = targetRow.prev('.quotation-detail-item');
                var depth = parseInt(targetRow[0].getAttribute('data-depth'), 10);
                if (targetBefore[0]) {
                    var beforeDepth = parseInt(targetBefore[0].getAttribute('data-depth'), 10);
                    var resultVal =  1 + depth;
                    if (resultVal - beforeDepth > 1) {
                        resultVal--;
                    }
                    if (resultVal > 5) {
                        resultVal = 5;
                    }
                    targetRow[0].setAttribute('data-depth', resultVal);
                    targetRow.find('.quotation-detail-depth').val(resultVal);
//                    initWithCalcurate();
                    //subtotalAmountCalc();
                }
            }

            function removeDepth(target, isChain){
console.log('removeDepth');
                var targetRow = $j(target).closest('.quotation-detail-item');
                var targetBefore = targetRow.prev('.quotation-detail-item');
                var depth = parseInt(targetRow[0].getAttribute('data-depth'), 10);
                var resultVal = 0;
                if (targetBefore[0]) {
                    var beforeDepth = parseInt(targetBefore[0].getAttribute('data-depth'), 10);
                    var resultVal =  0 + depth - 1;
                    if (resultVal < 0) {
                        resultVal = 0;
                    }
                    targetRow[0].setAttribute('data-depth', resultVal);
                    targetRow.find('.quotation-detail-depth').val(resultVal);
                }
                var targetAfter = targetRow.next('.quotation-detail-item');
                if (targetAfter[0]) {
                    var nextNodeDepth = parseInt(targetAfter[0].getAttribute('data-depth'), 10);
                    var conpareNum = (isChain ? 0 : 1);
                    if (nextNodeDepth - resultVal > conpareNum) {
                        removeDepth(targetAfter[0], true);
                    }
                }
//                initWithCalcurate();
                if (targetRow[0].getAttribute('data-depth') === '0') {
                    //subtotalAmountCalc();
                }

            }
            function eraseDepth(target) {
console.log('eraseDepth');
                var targetRow = $j(target).closest('.quotation-detail-item');
                var depth = parseInt(targetRow[0].getAttribute('data-depth'), 10);
                for (var i = depth; i >= 0; i--) {
                    removeDepth(target);
                }
            }
/*
            function initWithCalcurate() {
console.log('initWithCalcurate');

                RowManageA.create();

                calcurate();
console.log('initWithCalcurate:end');
            }
            function calcurate() {
                myDivObj = document.getElementById("isReadOnly");
console.log('calcurate:myDivObj = ' + myDivObj);
                if ( !myDivObj || myDivObj.innerHTML != "1") {
                    RowManageA.calcurate();

                    setHeaderSubtotal();
console.log('calcurate:end');
                }
            }

            function setHeaderSubtotal() {
console.log('setHeaderSubtotal:RowManageA.subTotalA = ' + RowManageA.subTotalA);

                $j('.quotationSubtotalAOutput').text(currencyFormat(RowManageA.subTotalA));
            }

            var ItemWrap = function(target, parent) {

                this.target = target;
                this.$target = $j(target);
                if (target) {
                    this.type = target.getAttribute('data-type');
                }
                this.parent = parent;

                var layerNum = 0;
                if (parent) {
                    layerNum = parent.layer + 1;
                }
                this.layer = layerNum;
                this.children = new Array();
console.log('ItemWrap:target,parent,layer,children = ' + this.target + ':' + this.parent + ':' + this.layer + ':' + this.children);
            };

            ItemWrap.prototype = {
                calc: function() {
console.log('calc');
                    this.amountCalc();
                    var resultAmount = this.discountCalc();
                    return resultAmount;
                },
                getFixedAmount: function(){
console.log('getFixedAmount');
                    var $row = this.$target;
                    var amount = $row.find('.quotation-detail-totalDiscountAmount-input').val();
                    return transformCurrencyToInteger(amount);
                },
                setAmount: function(amountCostPrice, amountCostPriceJProdUnit, amountSalesPrice){
                    var $row = this.$target;
                    var $quantity = $row.find('.quotation-detail-quantity');
                    var $unitPrice = $row.find('.quotation-detail-UnitPrice');
                    var quantityValue = transformCurrencyToInteger($quantity.val(), 1);
                    var unitPriceValue = transformCurrencyToInteger($unitPrice.val(), 2);
                    $quantity.val(quantityValue.toFixed(1));
                    $unitPrice.val(currencyFormat(unitPriceValue.toFixed(2)));

                    amountCostPrice = transformCurrencyToInteger(amountCostPrice, 2);
                    $row.find('.quotation-detail-CostPrice-input').val(amountCostPrice);
                    $row.find('.quotation-detail-CostPrice').text(currencyFormat(amountCostPrice.toFixed(2)));

                    $row.find('.quotation-detail-SalesPrice').attr("placeholder", amountSalesPrice);

                    this.discountCalc();
                },
/*
                setAmount: function(amount){
console.log('setAmount');
                    var $row = this.$target;

                    var $quantity = $row.find('.quotation-detail-quantity');
                    var $unitPrice = $row.find('.quotation-detail-UnitPrice');
                    var quantityValue = transformCurrencyToInteger($quantity.val(), true);
                    var unitPriceValue = transformCurrencyToInteger($unitPrice.val());
                    $quantity.val(quantityValue.toFixed(1));
                    $unitPrice.val(currencyFormat(unitPriceValue));

                    amount = transformCurrencyToInteger(amount);
                    $row.find('.quotation-detail-Amount-input').val(amount);
                    $row.find('.quotation-detail-Amount').text(currencyFormat(amount));
                    this.discountCalc();
                },
                setDiscountAmount: function(amount){
console.log('setDiscountAmount');
                    var $row = this.$target;
                    amount = transformCurrencyToInteger(amount);
                    $row.find('.quotation-detail-totalDiscountAmount').text(currencyFormat(amount));
                    $row.find('.quotation-detail-totalDiscountAmount-input').val(amount);
                },
                setUnitprice: function(amount) {
console.log('setUnitprice');
                    var $row = this.$target;
                    $row.find('.quotation-detail-UnitPrice').val(currencyFormat(0));
                },
                amountCalc: function() {
                    var $row = this.$target;
                    var $quantity = $row.find('.quotation-detail-quantity');
                    var $unitPrice = $row.find('.quotation-detail-UnitPrice');

                    var quantityValue = transformCurrencyToInteger($quantity.val(), 1);
                    var unitPriceValue = transformCurrencyToInteger($unitPrice.val(), 2);

                    $quantity.val(quantityValue.toFixed(1));
                    $unitPrice.val(currencyFormat(unitPriceValue.toFixed(2)));

                    var costPrice;
                    if(unitPriceValue<0 && quantityValue ==0)
                      costPrice = unitPriceValue;
                    else
                      costPrice = quantityValue * unitPriceValue;

                    var catalogCurValue= $row.find('.quotation-detail-CatalogCurrency').text();
                    var costPriceUnitValue= $row.find('.quotation-detail-CostPriceUnit').val();
                    var rateValue = $j('.rate-JProd-' + catalogCurValue + '-To-' + costPriceUnitValue).val();

                    if (rateValue) costPrice = costPrice * rateValue;

                    var costPriceJProdUnitValue= $j('.currencyCostIsoCode').val();

                    var rateJProdValue = $j('.rate-JProd-' + costPriceUnitValue + '-To-' + costPriceJProdUnitValue).val();

//alert('rateJProdValue-' + rateJProdValue);

                    var costPriceJProd = costPrice;
                    if (rateJProdValue) costPriceJProd = costPriceJProd * rateJProdValue;

                    this.setAmount(costPrice, costPriceJProd, "BB");

                    return this.discountCalc();
                },
/*
                amountCalc: function() {
console.log('amountCalc');
                    var $row = this.$target;
                    var $quantity = $row.find('.quotation-detail-quantity');
                    var $unitPrice = $row.find('.quotation-detail-UnitPrice');
                    var quantityValue = transformCurrencyToInteger($quantity.val(), true);
                    var unitPriceValue = transformCurrencyToInteger($unitPrice.val());
                    $quantity.val(quantityValue.toFixed(1));
                    $unitPrice.val(currencyFormat(unitPriceValue))

                    var amount;
                    if(unitPriceValue<0 && quantityValue ==0)
                        amount = Math.floor(unitPriceValue);
                    else
                        amount = Math.floor(quantityValue*unitPriceValue);

                    this.setAmount(amount);
                    return this.discountCalc();
                },
                discountCalc: function() {
console.log('discountCalc');
                    var $row = this.$target;
                    var amount = transformCurrencyToInteger($row.find('.quotation-detail-Amount-input').val());

                    var $discountRate = $row.find('.quotation-detail-discountRate');
                    var $discountAmount = $row.find('.quotation-detail-discountAmount');

                    var discountValue = 0;
                    var row = this.target;
                    if (row.getAttribute('data-discount-target') === 'true') {
                        var discountRateValue = transformCurrencyToInteger($discountRate.val());
                        var discountAmountValue = transformCurrencyToInteger($discountAmount.val());
                        if (discountRateValue && discountRateValue != 0) {
                            if (discountRateValue > 100) {
                                discountRateValue = 100;
                            }
                            discountValue += Math.ceil((amount * discountRateValue) / 100);
                        } else {
                            discountRateValue = 0;
                        }
                        $discountRate.val(currencyFormat(discountRateValue));
                        if (discountAmountValue && discountAmountValue != 0) {
                            if (discountAmountValue > amount) {
                                discountAmountValue = amount;
                            }
                            discountValue = discountAmountValue;
                            $discountRate.val(0);
                        } else {
                            discountAmountValue = 0;
                        }
                        $discountAmount.val(currencyFormat(discountAmountValue));
                    } else {
                        $discountRate.val(0);
                        $discountAmount.val(0);
                    }

                    var resultAmount = amount - discountValue;
                    this.setDiscountAmount(resultAmount);
                    return resultAmount;
                }
            }

                discountCalc: function() {
                    var $row = this.$target;
                    var amount = transformCurrencyToInteger($row.find('.quotation-detail-Amount-input').val(), 2);

                    var $discountRate = $row.find('.quotation-detail-discountRate');
                    var $discountAmount = $row.find('.quotation-detail-discountAmount');

                    $discountRate.val(0);
                    $discountAmount.val(0);

                    return amount;
                }
            }

            var RowManageA = function(){};

            RowManageA.prototype = {
                init : function (){
console.log('RowManageA.prototype:init');
                    this.root = new ItemWrap();
                    this.list = new Array();
                    this.totalAmount = 0;
                    this.subTotalA = 0;
                },
                push: function(row) {
console.log('RowManageA.prototype:push');

                    var rootItem = this.root;
                    var lastChildItem = rootItem;

                    while (lastChildItem.children.length > 0) {
                        var length = lastChildItem.children.length;
                        lastChildItem = lastChildItem.children[length - 1];
                    }
                    var currentTarget = lastChildItem;
                    if (currentTarget.target) {
                        var targetDepth = parseInt(row.getAttribute('data-depth'), 10);
                        var currentTargetDepth = parseInt(currentTarget.target.getAttribute('data-depth'), 10);

                        if (targetDepth == currentTargetDepth) {
                            currentTarget = currentTarget.parent;
                        } else if (targetDepth < currentTargetDepth) {
                            while (currentTarget.target) {
                                currentTargetDepth = parseInt(currentTarget.target.getAttribute('data-depth'), 10);
                                if (targetDepth == currentTargetDepth) {
                                    currentTarget = currentTarget.parent;
                                    break;
                                }
                                currentTarget = currentTarget.parent;
                            }
                        }
                    }
                    var item = new ItemWrap(row, currentTarget);
                    currentTarget.children.push(item);
                    this.list.push(item);
                },
                create: function() {
console.log('RowManageA.prototype:create');
                    var details = $j('.quotation-detail-itemA');
                    this.init();
                    for (var i = 0; i < details.length; i++) {
                        this.push(details[i]);
                    }
                },
                calcurate: function() {
console.log('RowManageA.prototype:calcurate');
                    var topArray = this.root;
                    if (topArray == null || topArray == undefined) {
                        throw 'root ãªã—';
                    }
                    amount = this.fixCalc(this.root);
                    this.totalAmount = amount.total;
                    if (amount.section == "A") {
                      this.subTotalA = amount.total;
                    }
console.log('RowManageA.prototype:calcurate:amount' + amount);
                },
                fixCalc: function(targetItem) {
console.log('RowManageA.prototype:fixCalc');
                    var children = targetItem.children;
                    var amount = {
                        total: 0,
                        section: ""
                    };
                    var subtotal = 0;
//var overhead = 0;
console.log('RowManageA.prototype:fixCalc:children = ' + children);
                    for (var i = 0; i < children.length; i++) {
                        var childItem = children[i];
                        var childNode = childItem.target;
                        var $childNode = $j(childNode);
                        amount.section = childNode.getAttribute('data-section-type');
                        var childRowType = childNode.getAttribute('data-type');
//var isOverheadTarget = (childNode.getAttribute('data-overhead-target') === 'true' && (childRowType === '1'));
                        var isTotalCalcTarget = (childRowType === '1');
                        var childrenAmount = null;
                        if (childItem.children.length > 0) {
                            childrenAmount = this.fixCalc(childItem);
                        }
                        if (childRowType === '1') {
                            if (childrenAmount) {
                                childItem.setAmount(childrenAmount.total, "AA", "AA");
//                                childItem.setAmount(childrenAmount.total);
                                childItem.setUnitprice(0);
                            } else {
                                childItem.calc();
                            }
                            var fixedAmount = childItem.getFixedAmount();
                            amount.total += fixedAmount;

                            subtotal += fixedAmount;
//if (isOverheadTarget) {
//    overhead += fixedAmount;
//}

                        }
                        if (childRowType !== '1' && childrenAmount) {
                            amount.total += childrenAmount.total;
                            subtotal += childrenAmount.total;
overhead += childrenAmount.total;
                        }

                    }
                    return amount;
                }

            }

            RowManageA = new RowManageA();

            function currencyFormat(value) {
console.log('currencyFormat:value' + value);

                if (!value && value !== 0) {
                    value = 0;
                }
                var valueParts = String(value).split(".");
                valueParts[0] = valueParts[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");

                return valueParts.join('.');
            }

            var transform2ByteNumericBase = 'ï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™';
            function transformCurrencyToInteger(value, isfloatingPoint) {

                value = String(value);
                if ((!value && value !== 0) || !value.match(/^-?(?!,)[0-9ï¼-ï¼™,]*(\.?(?=[0-9ï¼-ï¼™]+)[0-9ï¼-ï¼™]+)$/g)) {
                    value = '0';
                } else {
                    value = value.replace(/[ï¼-ï¼™]/g,function(s){return transform2ByteNumericBase.indexOf(s);});
                }
                value = parseFloat(value.replace(/,/g,''));
                if (isfloatingPoint) {
                    value = Math.floor(value*10)/10;
                } else {
                    value = Math.floor(value);
                }
                return value;
            }
*/

            function optionSetting(target) {
console.log('optionSetting');
                var $targetRow = $j(target).closest('.quotation-detail-item');
                var value = $j(target).prop('checked');
                $targetRow[0].setAttribute(target.getAttribute('data-target'),value);
            }

            function optionSettingFromPanelClick(target) {
console.log('optionSettingFromPanelClick');
                var $targetRow = $j(target).closest('.quotation-detail-item');
                var targetClass = target.getAttribute('data-target-class');
                var $targetChackbox = $targetRow.find('.' + targetClass);
                var value = $targetChackbox.prop('checked');
                $targetChackbox.prop('checked', !value);
                optionSetting($targetChackbox[0]);
            }

            var sortableOptionA = {
                axis:'y',
                opacity: 0.7,
                placeholder: 'drag-placeholder',
                cursor: 'row-resize',
                handle: '.sortableActionA',
                start: function(e,ui){isExecuteSortable = true;},
                activate: createPlaceholderBodyA,
                stop: changeSortNoA
            };

            var isExecuteSortable = false;
            function createPlaceholderBodyA(e, ui) {
                var body = ui.item.find('.quotation-detail-itemA');
                var placeHolder = $j('.drag-placeholder');
                var bodyItem = document.createElement('div');
                for (var i = 0; i < body.length; i++) {
                    var item = bodyItem.cloneNode();
                    item.setAttribute('data-depth', body[i].getAttribute('data-depth'));
                    placeHolder.append(item);
                }
            }

            function dragActionA(targetRow) {
console.log('dragActionA:targetRow = ' + targetRow);

                detailBodyBlur(lasttarget);

                setSortableA();
                var $sortableArea = $j('.quotation-detail-listA');
                var target = $j(targetRow).closest('.quotation-detail-itemA')[0];
                var $details = $j('.quotation-detail-itemA');
                var wrapdiv = document.createElement('div');
                $j(wrapdiv).addClass('quotation-detail-childWrap-item');
                $sortableArea.empty();
                var block = wrapdiv.cloneNode();
                var isChildNode = false;
                var targetDepth = parseInt(target.getAttribute('data-depth'), 10);
                var lastDepth = 0;

                var targetDetailType = target.getAttribute('data-type');
                for (var i = 0; i < $details.length; i++) {
                    var detail = $details[i];
                    var currentDetailDepth = parseInt(detail.getAttribute('data-depth'), 10);
                    lastDepth = currentDetailDepth;
                    if (targetDepth === currentDetailDepth || (isChildNode && targetDepth - currentDetailDepth >= 0)) {
                        if (block.childNodes.length > 0) {
                            $sortableArea.append(block);
                        }
                        block = wrapdiv.cloneNode();
                        isChildNode = (targetDepth === currentDetailDepth)
                    }
                    block.appendChild(detail);
                    if (!isChildNode && targetDepth !== 0 && targetDepth - currentDetailDepth < 2) {
                        if (block.childNodes.length > 0) {
                            $sortableArea.append(block);
                        }
                        block = wrapdiv.cloneNode();
                    }
                }
                if (block.childNodes.length > 0) {
                    $sortableArea.append(block);
                }
                var sortableTarget = ' .quotation-detail-childWrap-item';
                var excludeSelectors = [];
                if (targetDepth - lastDepth > 1 && targetDepth !== 0 && !(targetDetailType === '4' || targetDetailType === '3' || targetDetailType === '5')) {
                    excludeSelectors.push(':last');
                }
                if (targetDepth !== 0) {
                    excludeSelectors.push(':first');
                }
                if (excludeSelectors.length > 0) {
                    sortableTarget += ':not(' + excludeSelectors.join(',') +')'
                }
                $sortableArea.sortable('option', 'items', sortableTarget);
                $sortableArea.sortable('refresh');
                $j(document).on("mouseup",childWrapEraserA);

            }

            function childWrapEraserA() {
                if (!isExecuteSortable) {
                    var details = $j('.quotation-detail-itemA');
                    $j('.quotation-detail-childWrap-item').remove();
                    $j('.quotation-detail-list').append(details);
                }
                isExecuteSortable = false;
                $j(document).off("mouseup",childWrapEraserA);
            }

            function changeSortNoA(e, ui) {
                var details = $j('.quotation-detail-itemA');
                var sortableArea = $j('.quotation-detail-listA');
                sortableArea.empty();

                RowManageA.init();
                for (var i = 0; i < details.length; i++) {
                    var detail = details[i];
                    setSortNo(detail, i);
                    sortableArea.append(detail);
                    RowManageA.push(detail);
                }
                RowManageA.calcurate();
                calcurate();
            }

            function setSortNo(target, sortNo) {
                var $target = $j(target)
                target.setAttribute('data-sortNo', sortNo);
                $target.find('.quotation-detail-sortNo').val(sortNo);
            }

            var divNode = document.createElement('div');
            function render(records, renderTarget, renderConfigure, eventFunction) {
console.log('render');
                var records = records;
                var body = renderTarget;
                body.empty();
                var $table = $j(divNode.cloneNode());
                $table.addClass('table');
                var $headerRow = $j(divNode.cloneNode());
                $headerRow.addClass('item');
                $table.append($headerRow);
                var config = renderConfigure;
                var fieldSettings = config.fields;
                for (var i = 0; i < records.length; i++) {
                    var currentTarget = records[i];
                    var $item = $j(divNode.cloneNode());
                    $item.addClass('item');
                    for (key in eventFunction) {
                        $item.on(key, eventFunction[key]);
                    }
                    if (fieldSettings) {
                        for (var j = 0; j < fieldSettings.length; j++) {
                            var fieldConfigure = fieldSettings[j];
                            if (fieldConfigure.sobjectField) {
                                var fieldValue = getFieldValue(currentTarget,fieldConfigure.sobjectField);
                                if (i === 0) {
                                    var $headItem = createField(fieldConfigure.label);
                                    $headItem.addClass('head');
                                    if (fieldConfigure.hidden) {
                                        $headItem.css({display: 'none'});
                                    }
                                    $headerRow.append($headItem);
                                }
                                $headerRow.append($headItem);
                                if (fieldConfigure.resultFunc && typeof fieldConfigure.resultFunc === "function") {
                                    fieldValue = fieldConfigure.resultFunc(fieldValue);
                                }
                                $field = createField(fieldValue, fieldConfigure.className);
                                $item.append($field)
                                if (fieldConfigure.hidden) {
                                    $field.css({display: 'none'});
                                }
                            }
                        }
                        $table.append($item);
                    }
                }
                body.append($table);
                return body.find('.item');
            }

            function getFieldValue(targetSobject, fieldNameArray) {
console.log('getFieldValue');
                var target = targetSobject;
                for (var i = 0; i < fieldNameArray.length; i++) {
                    var fieldName = fieldNameArray[i];
                    if (fieldName && typeof target[fieldName] !== "undefined") {
                        target = target[fieldName];
                    } else {
                        target = '';
                        break;
                    }
                }
                return target;
            }
            function createField(value, fieldClass) {
console.log('createField');
                var field = $j(divNode.cloneNode());
                field.addClass('field');
                var fieldValue = $j(divNode.cloneNode());
                fieldClass = ' ' + (fieldClass ? fieldClass : '');
                fieldValue.addClass('field-value' + fieldClass);

                fieldValue.text(value);
                field.append(fieldValue);
                return field;
            }

            function pagerInfo(manage, targetNode) {
console.log('pagerInfo');
                var manager = manage;
                var $pagerArea = $j(targetNode).find('.pager-area');
                var currentPageNum = manager.getPageNumber();
                $pagerArea.find('.current-page-number').text(currentPageNum);
                if (currentPageNum > 1) {
                    $pagerArea.find('.prev.customButton').show();
                    $pagerArea.find('.prev.disabled-button').hide();
                } else {
                    $pagerArea.find('.prev.customButton').hide();
                    $pagerArea.find('.prev.disabled-button').show();
                }
                var maxPageNum = manager.maxPageNumber();
                $pagerArea.find('.max-page-number').text(maxPageNum);
                if (maxPageNum > currentPageNum) {
                    $pagerArea.find('.next.customButton').show();
                    $pagerArea.find('.next.disabled-button').hide();
                } else {
                    $pagerArea.find('.next.customButton').hide();
                    $pagerArea.find('.next.disabled-button').show();
                }
            }

            // ãƒ­ãƒƒã‚¯ç¢ºèª(ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒé›¢ã‚ŒãŸæ™‚ã«ãƒã‚§ãƒƒã‚¯)
            function safetyLockCheck(targetNode) {
console.log('safetyLockCheck:targetNode = ' + targetNode);

                var value = targetNode.getAttribute('data-compare-value');
                var type = targetNode.getAttribute('type');
                var currentValue = null;
                if (type === 'checkbox' || type === 'radio') {
                    currentValue = targetNode.checked;
                } else {
                    currentValue = targetNode.value;
                }
                if (value !== currentValue) {
                    lockSafety();
                }
            }

/*------------------------------------------------------------*/
//
//  å“ç›®è¤‡æ•°é¸æŠžç”»é¢    å“ç›®æ¤œç´¢ã€€ã‚«ã‚¿ãƒ­ã‚°æ¤œç´¢
//
/*------------------------------------------------------------*/
            var productConfig = {
                fields: [
                    {sobjectField:['Name'], label: 'ã‚³ãƒ¼ãƒ‰', className: 'master-ModelType', targetFormClassName: "quotation-detail-ModelType"},
                    {sobjectField:['JapaneseName__c'], label: 'åç§°', className: 'master-productName', targetFormClassName: 'quotation-detail-productName'},
                    {sobjectField:['ModelType__c'], label: 'å½¢å¼', className: 'master-modelType'},
                    {sobjectField:['UnitPrice__c'], label: 'ä¾¡æ ¼', className: 'master-productPrice', targetFormClassName: 'quotation-detail-UnitPrice'},
                    {sobjectField:['Tani__c'], label: 'å˜ä½', className: 'master-quantityUnit', targetFormClassName: 'quotation-detail-quantityUnit'},
                    {sobjectField:['Division__c'], label: 'åŒºåˆ†', className: 'master-productDivision'},
                    {sobjectField:['ModelType__c'], label: 'å½¢å¼', className: 'master-productModelType', targetFormClassName: 'quotation-detail-productName', hidden: true}
                ]
            };
            var catalogConfig = {
                fields: [
                    {sobjectField:['SearchKeyWord__c'], className: 'master-catalogSearchKeyWord'},
                    {sobjectField:['ProductCatalog__c'], className: 'master-catalogProductCatalog', hidden: true},
                    {sobjectField:['ProductNo__c'], className: 'master-catalogProductNo', hidden: true},
                    {sobjectField:['ClassificationType__c'], className: 'master-catalogClassificationType', hidden: true},
                    {sobjectField:['Position__c'], className: 'master-catalogPosition', hidden: true},
                    {sobjectField:['ProductItem__r','Name'], appendTargetField:['Name'], className: 'master-catalogModelType', targetFormClassName: 'catalogModelType', hidden: true},
                    {sobjectField:['ProductItem__r','JapaneseName__c'], appendTargetField:['JapaneseName__c'], className: 'master-catalogProductName', targetFormClassName: 'catalogProductName'},
                    {sobjectField:['ProductItem__r','Tani__c'], appendTargetField:['Tani__c'], className: 'master-catalogProductQuantityUnit', targetFormClassName: 'catalogProductQuantityUnit', hidden: true},
                    {sobjectField:['ProductItem__r','UnitPrice__c'], appendTargetField:['UnitPrice__c'], className: 'master-catalogProductUnitPrice', targetFormClassName: 'catalogProductUnitPrice', hidden: true},
                    {sobjectField:['ProductItem__r','ModelType__c'], appendTargetField:['ModelType__c'], className: 'master-catalogProductModelType', targetFormClassName: 'catalogProductModelType'}
                ]
            };

            var droppableOption = {
                greedy: true,
                accept: '.item',
                tolerance: 'intersect',
                activeClass: 'drop-active',
                hoverClass: 'drop-hover',
                drop: function(e, ui){
                    if (!ui.draggable.hasClass('selected')) {
                        $selectedItem = ui.draggable.removeAttr('style').clone();
                        $selectedItem.addClass('selected');
                        $selectedItem.draggable(selectedDraggableOption);
                        $j(e.target).find('.drop-target').append($selectedItem);
                    }
                },
                out: function(e, ui){
                    if (ui.draggable.hasClass('selected')) {
                        ui.draggable.addClass('remove-target');
                    }
                },
                over: function(e, ui) {
                    if (ui.draggable.hasClass('selected')) {
                        ui.draggable.removeClass('remove-target');
                    }
                }
            };
            var droppableOption_catalog = {
                greedy: true,
                accept: '.item',
                tolerance: 'intersect',
                activeClass: 'drop-active',
                hoverClass: 'drop-hover',
                drop: function(e, ui){
                    if (!ui.draggable.hasClass('selected')) {
                        var $selectedItem = ui.draggable.removeAttr('style').clone();
                        $selectedItem.find('.item').addClass('selected non-select-drag');
                        $selectedItem.addClass('selected non-select-drag');
                        $selectedItem.draggable(selectedDraggableOption);
                        $selectedItem.find('.item').draggable(selectedDraggableOption);
                        var items = $selectedItem.find('.item[data-target] > .tree-view');
                        items.on('click',getChildStructure);
                        var structrue = $selectedItem[0].getAttribute('data-target');
                        if (structrue && structrue.length > 0 ) {
                            $selectedItem.children('.tree-view').on('click',getChildStructure);
                        }
                        $j(e.target).find('.drop-target').append($selectedItem);
                    }
                },
                out: function(e, ui){
                    if (ui.draggable.hasClass('selected')) {
                        ui.draggable.addClass('remove-target');
                    }
                },
                over: function(e, ui) {
                    if (ui.draggable.hasClass('selected')) {
                        ui.draggable.removeClass('remove-target');
                    }
                }
            };


            function initDetailProductItemManage($targetNode) {
console.log('initDetailProductItemManage');

                detailProductItemManage.setTargetNode($targetNode);
                detailProductCatalogManage.setTargetNode($targetNode);
            }

            var detailProductItemManage = new PagerHelper();
            detailProductItemManage.setPageSize(13);
            detailProductItemManage.setConfig(productConfig);

            var detailProductCatalogManage = new PagerHelper();
            detailProductCatalogManage.setPageSize(10000);
            detailProductCatalogManage.setConfig(catalogConfig);

            var openModalDetailId = null;
            function setOpenModalDetailId(target) {
console.log('setOpenModalDetailId');

                var $detail = $j(target).closest('.quotation-detail-item');
                openModalDetailId = $detail.attr('id');
            }

            var lasttarget;
            function detailBodyFocus(target) {
console.log('detailBodyFocus');

                lasttarget = target;
                $j(target).parent().css('left','0px');
            }
            function detailBodyBlur(target) {
console.log('detailBodyBlur');

                $j(target).parent().css('left','');
                $j(target).css({height:'30px'});
            }

            function focusOpenModalDetail() {
console.log('focusOpenModalDetail');
                var $detail = $j(document.getElementById(openModalDetailId));
                var $targetButton = $detail.find('.productSelectButton');
                openModalDetailId = null;
                $targetButton.trigger('focus');
            }

            var errorAreaId = '#{!$Component.form.apexMessage}';

            // å‡¦ç†å®Œäº†æ™‚ã«è¡¨ç¤º
            function showResult(text) {
console.log('showResult:text' + text);

                var $error = getErrorArea();
                var $children = $error.children();
                if ($children.length > 0) {
                    $children = $children.clone();
                    $children.css({'text-align': 'left'});
                    showAlert($children);
                } else {
                    showAlert(text);
                }
            }
            function getErrorArea() {
console.log('getErrorArea');

                return $j(errorAreaId.replace(/(:)/ig,'\\\$1'));
            }

            var alertAnime = null;

            // ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º
            function showAlert(target) {
                var alert = document.getElementById('alert');
                if (alertAnime) {
                    clearTimeout(alertAnime);
                    alert.style.top = '0px';
                    alert.style.opacity = '0';
                    alert.style.transition = 'none';
                }
                if (target instanceof $j) {
                    $j(alert).find('.description').append(target);
                } else if (target instanceof $j || typeof target === 'string') {
                    $j(alert).find('.description').text(target);
                }
                alert.style.display = 'block';
                alertAnime = setTimeout(function(){
                    alert.style.top = '20px';
                    alert.style.opacity = '1';
                    alert.style.transition = '';
                }, 100);
                alertAnime = setTimeout(hideAleart, 3200);
            }

            // ã‚¢ãƒ©ãƒ¼ãƒˆéš ã—
            function hideAleart() {
                var alert = document.getElementById('alert');
                alert.style.top = '';
                alert.style.opacity = '';
                alertAnime = setTimeout(function(){
                    alert.style.display = '';
                    alertAnime = null;
                    $j(alert).find('.description').empty();
                }, 500);
            }

            //Customeræ¤œç´¢ãƒœã‚¿ãƒ³å‡¦ç†
            function openSearchToggleButton(target) {
                $j('.field.toggle').removeClass('toggle');
                $j(target).closest('.field').addClass('toggle');
            }

            // å‰Šé™¤ãƒœã‚¿ãƒ³å‡¦ç†
            function deleteConfirm() {
                if (confirm('è¦‹ç©ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                    unlockSafety();
                    qotationDelete();
                }
            }

            /**
             * detect IE
             * returns version of IE or false, if browser is not Internet Explorer
             */
            function detectIE() {
                var ua = window.navigator.userAgent;

                var msie = ua.indexOf('MSIE ');
                if (msie > 0) {
                    // IE 10 or older => return version number
                    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
                }

                var trident = ua.indexOf('Trident/');
                if (trident > 0) {
                    // IE 11 => return version number
                    var rv = ua.indexOf('rv:');
                    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
                }

                var edge = ua.indexOf('Edge/');
                if (edge > 0) {
                   // IE 12 => return version number
                   return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
                }

                // other browser
                return false;
            }

        </script>
      </head>

      <body>
        <apex:actionStatus layout="block" onstop="contentInit();" id="ajaxPageStatus" startStyleClass="ajax-status-start-page">
          <apex:facet name="start">
            <div class="ajax-status-start-inner ajax-loading"></div>
          </apex:facet>
        </apex:actionStatus>

<!-- PageHeader -->
        <apex:outputPanel layout="block" styleClass="contents" id="contents" >
          <div class="page-header">
            <apex:include pageName="{!$Page.JEOL_VisualforceHeader}" />
          </div>

          <div class="contents-body">
            <apex:form id="form">

              <apex:inputHidden value="{!qdm.parentRec.Company__c}" id="quotation-company"/>
              <apex:inputText id="fieldScrollValue" styleclass="hidden" value="{!currentScrollValue}" />
              <apex:inputText id="fieldListRowToDel" styleclass="hidden" value="{!ListRowToDel}" />

              <div class="section navi-area" >
                <div class="section-body base-width clearfix">
<!-- Save Button -->
                  <ul class="navi-buttons clearfix">
                    <li class="navi-item">
                      <apex:commandLink action="{!saveAction}" 
                                        styleClass="customButton save"
                                        onclick="unlockSafety();"
                                        status="ajaxPageStatus"
                                        rendered="{!!IsReadOnly}">
                        {!$Label.JEOLAsia_ProjectMaster_Label_Save}
                      </apex:commandLink>
                    </li>
                  </ul>

<!-- Delete Button -->
                  <ul class="navi-buttons right clearfix">
                    <li class=" navi-item">
                      <apex:outputPanel layout="none" rendered="{!!isNew}" >
                        <button class="{!IF(isReadOnly,'hidden','customButton')}" type="button" data-toggle="modal" data-target="#deleteConfirm">{!$Label.JEOLAsia_ProjectMaster_Label_Delete}</button>
                      </apex:outputPanel>
                    </li>
                  </ul>

                </div>
              </div>

<!-- New Project Master -->
              <div class="section base-width">
                <div class="hidden" id="isReadOnly" >{!IF(isReadOnly, 1, 0)}</div>

                <div class="screenname">
                  <h1 class="small">{!$Label.JEOLAsia_ProjectMaster_NewProfitCalculation_NewProjectMaster}</h1>
                  <div class="big" >
<!-- æ–°è¦ä½œæˆ -->
                    <apex:outputText rendered="{!isNew}" >
                      <span>{!$Label.JEOLAsia_ProjectMaster_NewProfitCalculation_NewProjectMaster}</span>
                    </apex:outputText>
<!-- æ–°è¦ä»¥å¤– -->
                    <apex:outputText rendered="{!!isNew}" value="{!$Label.JEOL_QuotEdit_Label_ReferringKeyword}">
                      <apex:param value="{!qdm.parentRec.Name}"/>
                    </apex:outputText>
                  </div>
                </div>
              </div>

<!-- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸æ­£æ™‚ -->
              <apex:outputPanel layout="none" rendered="{!!isValid}">
                <div class="section base-width" >
                  <apex:messages layout="table" />
                  <apex:outputText >
                    <apex:outputLink value="{!$Page.JEOLAsia_ProjectMasterList}">ã‚³ãƒãƒ©</apex:outputLink>
                    <apex:outputText value="ã‹ã‚‰å†åº¦æ“ä½œã‚’è¡Œã£ã¦ãã ã•ã„ã€‚" />
                  </apex:outputText>
                </div>
              </apex:outputPanel>

<!-- Back to Project Master -->
              <apex:outputPanel layout="none" id="listview" rendered="{!isValid}">

                <apex:actionFunction name="qotationDelete" action="{!deleteAction}" />
                <div class="section button-area base-width" >
                  <div class="section-body clearfix">
                    <apex:outputLink value="{!$Page.JEOLAsia_ProjectMasterList}" >&laquo;&nbsp;{!$Label.JEOLAsia_ProjectMaster_BackMenu}</apex:outputLink>
                  </div>
                </div>

                <div class="section base-width error-area" >
                  <apex:pageMessages id="apexMessage" />
                </div>

                <div class="section quotation-area base-width">
                  <div class="section-header">
                  </div>

                  <div class="section-body">
                    <div class="quotation-information clearfix">
                      <div style="float: left; width:100%;">
<!-- â– Profit Calculation Informations section -->
                        <div class="quotation-item profit-Calculation-Informations-area">

                          <div class="quotation-item-header clearfix">
                            <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_Label_ProfitCalculationInformations}</div>
                          </div>

                          <div class="quotation-item-body clearfix">
                            <div style="min-height: 45px;">
<!-- PC No. -->
                              <div class="field">
                                <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_PcNo}" for="pcNo" styleClass="field-label" />
                                <apex:inputField rendered="{!!isReadOnly}" id="pcNo" styleClass="field-value pcNo" value="{!qdm.parentRec.ProfitCalculation__c}" html-data-compare-value="{!qdm.baseParentRec.ProfitCalculation__c}" onclick="makeSafetyCheck=false;" onblur="safetyLockCheck(this);makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" />
                                <apex:outputField rendered="{!isReadOnly}" id="pcNoView" styleClass="field-value pcNo" value="{!qdm.parentRec.ProfitCalculation__c}" />
                              </div>

                              <div class="field">
                                <apex:outputLabel for="blank" styleClass="field-label"/>
                              </div>
<!-- Copy from PC -->
                              <div class="field">
                                <apex:commandLink rendered="{!!isReadOnly}" value="{!$Label.JEOLAsia_ProjectMaster_Label_CopyfromPC}" styleClass="customButton" oncomplete="lockSafety();" action="{!copyFromPC_onclick}" status="ajaxCopyFromPC" rerender="company-output, companyNameView, orgName, series, salesPerson, salesAssistant, contractCode, contractName, contractAccountId, contractName1, contractName2, contractUndergraduate, contractAddress, contractBelong, contractPost, contractPersonInCharge, contractPhone, contractEAddress, contractFax, shipmentCode, shipmentName, shipmentAccountId, shipmentName1, shipmentName2, shipmentUndergraduate, shipmentAddress, shipmentBelong, shipmentPost, shipmentPersonInCharge, shipmentPhone, shipmentEAddress, shipmentFax, openActivities, activityHistories, detailAreaA " />
                              </div>

                              <div class="field ajaxRequestStatus">
                                <apex:actionStatus layout="block"  id="ajaxCopyFromPC">
                                  <apex:facet name="start">
                                    <div class="ajaxStatusView" >{!$Label.JEOL_QuotEdit_Label_Searching}</div>
                                  </apex:facet>
                                </apex:actionStatus>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>

                      <div style="float: left;">
<!-- â– Basic Informations section -->
                        <div class="quotation-item basic-Informations-section-area">
                          <div class="quotation-item-header clearfix" style="height: 38px;">
                            <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_Label_BasicInformations}</div>
                          </div>
<!-- Project No. -->
                          <!-- <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_PjNo}" for="ProjectNumber" styleClass="{!IF(isReadOnly,'','requireField ')}field-label rightcol" />
                            <apex:inputField rendered="{!!isReadOnly}" id="ProjectNumber" styleClass="field-value ProjectNumber" value="{!qdm.parentRec.Name}" html-data-compare-value="{!qdm.baseParentRec.Name}" onblur="safetyLockCheck(this);"/>
                          </div> -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_PjNo}" for="ProjectNumber" styleClass="{!IF(isReadOnly,'','')}field-label rightcol" />
                            <apex:inputField id="ProjectNumber" styleClass="field-value ProjectNumber" value="{!qdm.parentRec.Name}" html-data-compare-value="{!qdm.baseParentRec.Name}" onblur="safetyLockCheck(this);" style="width: 185px;"/>
                          </div>
                          <!-- <div>
                            <apex:outputLabel style="width: 160px;" value="{!$ObjectType.AsiaProjectMaster__c.fields.Status__c.label}" />
                            <apex:outputField styleClass="field-value" value="{!qdm.baseParentRec.Status__c}" />
                          </div> -->
<!-- Status -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$ObjectType.AsiaProjectMaster__c.fields.Status__c.label}" for="Status" styleClass="{!IF(isReadOnly,'','')}field-label rightcol" />
                            <apex:outputText id="Status" styleClass="field-value" value="{!qdm.parentRec.Status__c}" style="width: 185px;"/>
                          </div>
<!-- Model -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_Model}" for="Model" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="Model" styleClass="field-value" value="{!qdm.parentRec.Model__c}" html-data-compare-value="{!qdm.baseParentRec.Model__c}" onblur="safetyLockCheck(this);"/>
                          </div>
<!-- Serial Number -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_SerialNumber}" for="SerialNumber" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="SerialNumber" styleClass="field-value" value="{!qdm.parentRec.SerialNumber__c}" html-data-compare-value="{!qdm.baseParentRec.SerialNumber__c}" onblur="safetyLockCheck(this);"/>
                          </div>
<!-- Contract Number -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_ContractNumber}" for="ContractNumber" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="ContractNumber" styleClass="field-value" value="{!qdm.parentRec.ContractNumber__c}" html-data-compare-value="{!qdm.baseParentRec.ContractNumber__c}" onblur="safetyLockCheck(this);"/>
                          </div>
<!-- Contract Price -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_ContractPrice}" for="ContractPrice" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="ContractPrice" styleClass="field-value" value="{!qdm.parentRec.ContractPrice__c}" html-data-compare-value="{!qdm.baseParentRec.ContractPrice__c}" onblur="safetyLockCheck(this);"/>
                          </div>
<!-- CurrencyContractPrice -->
                          <div class="field">
                            <apex:selectList id="CurrencyContractPrice" value="{!qdm.parentRec.CurrencyContractPrice__c}" style="margin-left: 4px;" styleClass="field-value CurrencyContractPrice" size="1" html-data-compare-value="{!qdm.baseParentRec.CurrencyContractPrice__c}" onblur="safetyLockCheck(this);" required="true">
                                <apex:selectOptions value="{!CurrencyContractPriceItems}"/>
                            </apex:selectList>
                          </div>
<!-- Customer PO Number -->
                          <div class="field">
                            <apex:outputLabel style="width: 160px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_CustomerPONumber}" for="CustomerPONumber" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="CustomerPONumber" styleClass="field-value" value="{!qdm.parentRec.CustomerPONumber__c}" html-data-compare-value="{!qdm.baseParentRec.CustomerPONumber__c}" onblur="safetyLockCheck(this);"/>
                          </div>
                        </div>

<!-- â– Profit Calculation Informations section -->
                        <div class="quotation-item basic-Informations-section-area">
                          <div class="quotation-item-header clearfix" style="height: 38px;">
                            <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_Label_ProfitCalculationInformations}</div>
                          </div>
<!-- Company -->
                          <div class="field">
                            <apex:outputLabel style="width: 118px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_Company}" for="orgName" styleClass="field-label rightcol" />
                            <apex:outputText id="companyNameView" styleClass="field-value orgName" value="{!qdm.parentRec.CompanyName__c}" />
                          </div>
<!-- Company name -->
                          <div class="field" style="{!IF(isReadOnly,'min-width: 400px;','')}">
                            <apex:outputLabel style="width: 118px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_CompanyName}" for="orgName" styleClass="field-label rightcol" />
                            <apex:inputField rendered="{!!isReadOnly}" id="orgName" styleClass="field-value orgName" value="{!qdm.parentRec.OrgName__c}" html-data-compare-value="{!qdm.baseParentRec.OrgName__c}" onblur="safetyLockCheck(this);" style="width: 376px;"/>
                            <apex:outputField rendered="{!isReadOnly}" id="orgNameView" styleClass="field-value orgName" value="{!qdm.parentRec.OrgName__c}" />
                          </div>
<!-- Series -->
                          <div class="field" data-type="dropdown">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Series}" html-data-type="label" for="series" styleClass="{!IF(isReadOnly,'','requireField ')}field-label rightcol" style="float: left; width: 118px;"/>

                            <apex:inputText rendered="{!!isReadOnly}" id="series" html-data-type="input-field" styleClass="field-value series" onchange="this.value=transformInputText(this.value);" value="{!qdm.parentRec.Series__c}" html-data-compare-value="{!qdm.baseParentRec.Series__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="seriesView" html-data-type="input-field" styleClass="departmentView" value="{!qdm.parentRec.Series__c}" />
                            <button class="{!IF(isReadOnly,'hidden','')}" type="button" data-type="button" onclick="dropdownAction(this);">â–¼</button>
                            <ul class="scroll" data-type="list">
                              <apex:repeat value="{!SeriesOptions}" var="option">
                                <li data-type="item" data-value="{!option.value}" >
                                  <a href="javascript: void(0);" onclick="setInputField(this);return false;" ><apex:outputText value="{!option.label}" rendered="{!!ISBLANK(option.label)}"/></a>
                                </li>
                              </apex:repeat>
                            </ul>
                          </div>
<!-- Salesperson -->
                          <div class="field">
                            <apex:outputLabel style="width: 118px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_Sales}" for="salesPerson" styleClass="{!IF(isReadOnly,'','requireField ')}field-label rightcol" />
                            <apex:inputField rendered="{!!isReadOnly}" id="salesPerson" styleClass="field-value salesPerson" value="{!qdm.parentRec.SalesPerson__c}" html-data-compare-value="{!qdm.baseParentRec.SalesPerson__c}" onclick="makeSafetyCheck=false;" onblur="safetyLockCheck(this);makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" />
                            <apex:outputField rendered="{!isReadOnly}" id="salesPersonView" styleClass="field-value salesPerson" value="{!qdm.parentRec.SalesPerson__c}" />
                          </div>
<!-- Assistant -->
                          <div class="field">
                            <apex:outputLabel style="width: 118px;" value="{!$Label.JEOLAsia_ProjectMaster_Label_Admi}" for="salesAssistant" styleClass="field-label rightcol" />
                            <apex:inputField rendered="{!!isReadOnly}" id="salesAssistant" styleClass="field-value salesAssistant" value="{!qdm.parentRec.SalesAssistant__c}" html-data-compare-value="{!qdm.baseParentRec.SalesAssistant__c}" onclick="makeSafetyCheck=false;" onblur="safetyLockCheck(this);makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" />
                            <apex:outputField rendered="{!isReadOnly}" id="salesAssistantView" styleClass="field-value salesAssistant" value="{!qdm.parentRec.SalesAssistant__c}" />
                          </div>
                      </div>

                      <div style="float: left;">
<!-- â– Sold To Informations Section -->
                        <div class="quotation-item contract-account-area">
                          <div class="quotation-item-header clearfix" style="height: 38px;">
                            <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_Label_SoldToInformations}</div>
                          </div>
<!-- Customer -->
                          <div class="quotation-item-body clearfix">
                            <div class="field ajaxRequestStatus" >
                              <apex:actionStatus layout="block" id="ajaxContractAccountAttach">
                                <apex:facet name="start">
                                  <div class="ajaxStatusView" >{!$Label.JEOL_QuotEdit_Label_Searching}</div>
                                </apex:facet>
                              </apex:actionStatus>
                            </div>

                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Customer}" for="contractCode" styleClass="{!IF(isReadOnly,'','requireField ')}field-label rightcol" />

                              <apex:inputField rendered="{!!isReadOnly}" id="contractCode" styleClass="field-value contractCode" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorCode}" value="{!qdm.parentRec.ContractCode__c}" html-data-compare-value="{!qdm.baseParentRec.ContractCode__c}" onfocus="openSearchToggleButton(this);" onblur="safetyLockCheck(this);" />
                              <apex:commandLink rendered="{!!isReadOnly}" action="{!ContractAttachmentFromCode}" title="ã‚³ãƒ¼ãƒ‰æ¤œç´¢" rerender="enhanceContractAccount, contractCode, contractName, contractName1, contractName2, contractAddress, contractUndergraduate, contractPersonInCharge, contractPhone, contractEAddress, contractFax, contractBelong, contractPost" styleClass="productSearchButton" status="ajaxContractAccountAttach" oncomplete="enhanceContractAccountLookup();">
                                <span class="refresh-icon"></span>
                              </apex:commandLink>

                              <apex:outputText rendered="{!isReadOnly}" id="contractCodeView" styleClass="contractCodeView" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorCode}" value="{!qdm.parentRec.ContractCode__c}" />
                              <apex:outputText rendered="{!!isReadOnly}" id="contractName" styleClass="contractNameView2" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorName}" value="{!qdm.parentRec.ContractName__c}" />
                              <apex:outputText rendered="{!isReadOnly}" id="contractNameView" styleClass="contractNameView" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorName}" value="{!qdm.parentRec.ContractName__c}" />

                              <apex:inputField rendered="{!!isReadOnly}" id="contractAccountId" styleClass="field-value reference-field-hidden" value="{!qdm.parentRec.ContractAccount_dummyField__c}" onclick="makeSafetyCheck=false;" onblur="makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" >

                                <apex:actionSupport focus="contractName" event="onchange" action="{!ContractAttachment}" rerender="enhanceContractAccount, contractCode, contractName, contractName1, contractName2, contractAddress, contractUndergraduate, contractPersonInCharge, contractPhone, contractEAddress, contractFax, contractBelong, contractPost" status="ajaxContractAccountAttach" oncomplete="enhanceContractAccountLookup();"/>
                              </apex:inputField>
                            </div>
                          </div>
<!-- Customer Name 1 -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_CustomerName1}" for="ContractName1" styleClass="field-label" />
                            <apex:inputText rendered="{!!isReadOnly}" id="contractName1" styleClass="field-value" value="{!qdm.parentRec.ContractName1__c}" style="width: 400px;" maxlength="100"/>
                            <apex:outputText rendered="{!isReadOnly}" id="contractName1View" styleClass="field-value" value="{!qdm.parentRec.ContractName1__c}" style="width: 400px;" />
                          </div>
<!-- Customer Name 2 -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_CustomerName2}" for="ContractName2" styleClass="field-label" />
                            <apex:inputText rendered="{!!isReadOnly}" id="contractName2" styleClass="field-value" value="{!qdm.parentRec.ContractName2__c}" style="width: 400px;" maxlength="100"/>
                            <apex:outputText rendered="{!isReadOnly}" id="contractName2View" styleClass="field-value" value="{!qdm.parentRec.ContractName2__c}" style="width: 400px;" />
                          </div>
<!-- Branch Office -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_DepartmentOffice}" for="contractUndergraduate" styleClass="field-label" />
                            <apex:outputText id="contractUndergraduate" styleClass="field-value contractUndergraduate" value="{!qdm.parentRec.ContractUndergraduate__c}" />
                          </div>
<!-- Address -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Address}" for="contractAddress" styleClass="field-label" />
                            <apex:outputText id="contractAddress" styleClass="field-value contractAddress" value="{!qdm.parentRec.ContractAddress__c}" />
                          </div>
<!-- Department -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Department}" for="contractBelong" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="contractBelong" styleClass="field-value contractBelong" value="{!qdm.parentRec.ContractBelong__c}" html-data-compare-value="{!qdm.baseParentRec.ContractBelong__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="contractBelongView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractBelong__c}"  />
                          </div>
<!-- Designation -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Designation}" for="contactPost" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="contractPost" styleClass="field-value contractPost" value="{!qdm.parentRec.ContractPost__c}" html-data-compare-value="{!qdm.baseParentRec.ContractPost__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="contractPostView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractPost__c}" />
                          </div>
<!-- Responsible -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_PIC}" for="contractPersonInCharge" styleClass="field-label" />

                            <apex:inputField rendered="{!!isReadOnly}" id="contractPersonInCharge" styleClass="field-value contractPersonInCharge" value="{!qdm.parentRec.ContractPersonInCharge__c}" html-data-compare-value="{!qdm.baseParentRec.ContractPersonInCharge__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="contractPersonInChargeView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractPersonInCharge__c}" />

                            <apex:inputField rendered="{!!isReadOnly}" styleClass="field-value reference-field-hidden" value="{!qdm.parentRec.ContractContact_dummyField__c}" onclick="makeSafetyCheck=false;" onblur="makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" >
                    ã€€ã€€        <apex:actionSupport focus="contractPersonInCharge" event="onchange" action="{!contractContactAttachment}" rerender="enhanceContractAccount, contractCode, contractName, contractName1, contractName2, contractAddress, contractUndergraduate, contractPersonInCharge, contractPhone, contractEAddress, contractFax, contractBelong, contractPost" status="ajaxContractAccountAttach" oncomplete="enhanceContractAccountLookup();"/>
                            </apex:inputField>
                          </div>
<!-- Phone -->
                          <div class="field" style="height: 32px;">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_PhoneNumber}" for="contractPhone" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="contractPhone" styleClass="field-value contractPhone" value="{!qdm.parentRec.ContractPhone__c}" html-data-compare-value="{!qdm.baseParentRec.ContractPhone__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="contractPhoneView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractPhone__c}" />
                          </div>
<!-- Email -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_EmailAddress}" for="contractEAddress" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="contractEAddress" styleClass="field-value contractPhone" value="{!qdm.parentRec.ContractEmail__c}" html-data-compare-value="{!qdm.baseParentRec.ContractEmail__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="contractEAddressView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractEmail__c}" />
                          </div>

<!-- Fax -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_FAX}" for="contractFax" styleClass="field-label" />
                            <apex:inputField rendered="{!!isReadOnly}" id="contractFax" styleClass="field-value contractPhone" value="{!qdm.parentRec.ContractFax__c}" html-data-compare-value="{!qdm.baseParentRec.ContractFax__c}" onblur="safetyLockCheck(this);" />
                            <apex:outputText rendered="{!isReadOnly}" id="contractFaxView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractFax__c}" />
                          </div>
                        </div>

<!-- â– Ship To Informations section -->
                        <div class="quotation-item shipment-account-area">
                          <div class="quotation-item-header clearfix" style="height: 38px;">
                            <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_Label_ShipToInformations}</div>

<!-- Import Button -->
                            <apex:commandLink rendered="{!!isReadOnly}" value="{!$Label.JEOLAsia_ProjectMaster_Label_Import}" styleClass="customButton" oncomplete="enhanceShipmentAccountLookup();lockSafety();" action="{!contractAccountInputCopy}" status="ajaxShipmentAttach" rerender="enhanceShipmentAccount, shipmentCode, shipmentName, shipmentName1, shipmentName2, shipmentAddress, shipmentUndergraduate, shipmentBelong, shipmentPost, shipmentPersonInCharge, shipmentPhone, shipmentEAddress, shipmentFax" />
                          </div>
<!-- Customer -->
                          <div class="quotation-item-body clearfix">
                            <div class="field ajaxRequestStatus">
                              <apex:actionStatus layout="block"  id="ajaxShipmentAttach">
                                <apex:facet name="start">
                                  <div class="ajaxStatusView" >{!$Label.JEOL_QuotEdit_Label_Searching}</div>
                                </apex:facet>
                              </apex:actionStatus>
                            </div>

                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Customer}" for="shipmentCode" styleClass="{!IF(isReadOnly,'','requireField ')}field-label rightcol" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentCode" styleClass="field-value shipmentCode" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorCode}" value="{!qdm.parentRec.ShipmentCode__c}"  html-data-compare-value="{!qdm.baseParentRec.ShipmentCode__c}" onfocus="openSearchToggleButton(this);" onblur="safetyLockCheck(this);"/>
                              <apex:commandLink rendered="{!!isReadOnly}" action="{!ShipmentAttachmentFromCode}" title="ã‚³ãƒ¼ãƒ‰æ¤œç´¢" rerender="enhanceShipmentAccount, shipmentCode, shipmentName, shipmentName1, shipmentName2, shipmentAddress, shipmentUndergraduate, shipmentPersonInCharge, shipmentPhone, shipmentEAddress, shipmentFax, shipmentBelong, shipmentPost" styleClass="productSearchButton" status="ajaxShipmentAttach" oncomplete="enhanceShipmentAccountLookup();">
                                <span class="refresh-icon"></span>
                              </apex:commandLink>

                              <apex:outputText rendered="{!isReadOnly}" id="shipmentCodeView" styleClass="contractCodeView" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorCode}" value="{!qdm.parentRec.ShipmentCode__c}" />
                              <apex:outputText rendered="{!!isReadOnly}" id="shipmentName" styleClass="contractNameView2" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorName}" value="{!qdm.parentRec.ShipmentName__c}" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentNameView" styleClass="contractNameView" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ContractorName}" value="{!qdm.parentRec.ShipmentName__c}" />

                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentAccountId" styleClass="field-value reference-field-hidden" value="{!qdm.parentRec.ShipmentAccount_dummyField__c}" onclick="makeSafetyCheck=false;" onblur="makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" >

                                <apex:actionSupport focus="shipmentName" event="onchange" action="{!ShipmentAttachment}" rerender="enhanceShipmentAccount, shipmentCode, shipmentName, shipmentName1, shipmentName2, shipmentAddress, shipmentUndergraduate, shipmentPersonInCharge, shipmentPhone, shipmentEAddress, shipmentFax, shipmentBelong, shipmentPost" status="ajaxShipmentAttach" oncomplete="enhanceShipmentAccountLookup();" />
                              </apex:inputField>
                            </div>
                          </div>
<!-- Customer Name 1 -->
                          <div class="field">
                            <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_CustomerName1}" for="ShipmentName1" styleClass="field-label" />
                              <apex:inputText rendered="{!!isReadOnly}" id="shipmentName1" styleClass="field-value" value="{!qdm.parentRec.ShipmentName1__c}" style="width: 400px;" maxlength="100"/>
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentName1View" styleClass="field-value" value="{!qdm.parentRec.ShipmentName1__c}" style="width: 400px;" />
                            </div>
<!-- Customer Name 2 -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_CustomerName2}" for="ShipmentName2" styleClass="field-label" />
                              <apex:inputText rendered="{!!isReadOnly}" id="shipmentName2" styleClass="field-value" value="{!qdm.parentRec.ShipmentName2__c}" style="width: 400px;" maxlength="50"/>
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentName2View" styleClass="field-value" value="{!qdm.parentRec.ShipmentName2__c}" style="width: 400px;" />
                            </div>
<!-- Branch Office -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_DepartmentOffice}" for="shipmentUndergraduate" styleClass="field-label" />
                              <apex:outputText id="shipmentUndergraduate" styleClass="field-value shipmentUndergraduate" value="{!qdm.parentRec.ShipmentUndergraduate__c}" />
                            </div>
<!-- Address -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Address}" for="shipmentAddress" styleClass="field-label" />
                              <apex:outputText id="shipmentAddress" styleClass="field-value shipmentAddress" value="{!qdm.parentRec.ShipmentAddress__c}" />
                            </div>
<!-- Department -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Department}" for="shipmentBelong" styleClass="field-label" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentBelong" styleClass="field-value shipmentBelong" value="{!qdm.parentRec.ShipmentBelong__c}" html-data-compare-value="{!qdm.baseParentRec.ShipmentBelong__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentBelongView" styleClass="contractBelongView" value="{!qdm.parentRec.ShipmentBelong__c}" />
                            </div>
<!-- Designation -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_Designation}" for="shipmentPost" styleClass="field-label" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentPost" styleClass="field-value shipmentPost" value="{!qdm.parentRec.ShipmentPost__c}" html-data-compare-value="{!qdm.baseParentRec.ShipmentPost__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentPostView" styleClass="contractBelongView" value="{!qdm.parentRec.ShipmentPost__c}" />
                            </div>
<!-- Responsible -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_PIC}" for="shipmentPersonInCharge" styleClass="field-label" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentPersonInCharge" styleClass="field-value shipmentPersonInCharge" value="{!qdm.parentRec.ShipmentPersonInCharge__c}" html-data-compare-value="{!qdm.baseParentRec.ShipmentPersonInCharge__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentPersonInChargeView" styleClass="contractBelongView" value="{!qdm.parentRec.ShipmentPersonInCharge__c}" />

                              <apex:inputField rendered="{!!isReadOnly}" styleClass="field-value reference-field-hidden" value="{!qdm.parentRec.ShipmentContact_dummyField__c}" onclick="makeSafetyCheck=false;" onblur="makeSafetyCheck=true;" onmouseout="makeSafetyCheck=true;" >
                                <apex:actionSupport focus="shipmentPersonInCharge" event="onchange" action="{!shipmentContactAttachment}" rerender="enhanceShipmentAccount, shipmentCode, shipmentName, shipmentName1, shipmentName2, shipmentAddress, shipmentUndergraduate, shipmentPersonInCharge, shipmentPhone, shipmentEAddress, shipmentFax,  shipmentBelong, shipmentPost" status="ajaxShipmentAttach" oncomplete="enhanceShipmentAccountLookup();"/>
                              </apex:inputField>

                            </div>
<!-- Phone -->
                            <div class="field" style="height:32px">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_PhoneNumber}" for="shipmentPhone" styleClass="field-label" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentPhone" styleClass="field-value shipmentPhone" value="{!qdm.parentRec.ShipmentPhone__c}" html-data-compare-value="{!qdm.baseParentRec.ShipmentPhone__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentPhoneView" styleClass="contractBelongView" value="{!qdm.parentRec.ShipmentPhone__c}" />
                            </div>
<!-- Email -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_EmailAddress}" for="shipmentEAddress" styleClass="field-label" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentEAddress" styleClass="field-value contractPhone" value="{!qdm.parentRec.ShipmentEmail__c}" html-data-compare-value="{!qdm.baseParentRec.ShipmentEmail__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentEAddressView" styleClass="contractBelongView" value="{!qdm.parentRec.ShipmentEmail__c}" />
                            </div>
<!-- Fax -->
                            <div class="field">
                              <apex:outputLabel value="{!$Label.JEOLAsia_ProjectMaster_Label_FAX}" for="shipmentFax" styleClass="field-label" />
                              <apex:inputField rendered="{!!isReadOnly}" id="shipmentFax" styleClass="field-value shipmentPhone" value="{!qdm.parentRec.ShipmentFax__c}" html-data-compare-value="{!qdm.baseParentRec.ShipmentFax__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="shipmentFaxView" styleClass="contractBelongView" value="{!qdm.parentRec.ShipmentFax__c}" />
                            </div>
                          </div>

<!-- â– Products Information section -->
                          <apex:outputPanel layout="block" id="detailAreaA"  styleClass="quotation-item quotation-detail-informations" >
                            <apex:variable value="{!qdm.currentSize > 0}" var="hasDetails" />
                            <apex:variable value="{!qdm.currentSizeA > 0}" var="hasDetailsA" />
                            <hr style="margin: 20px 0px 4px 0px; float: none;"/>

                            <div class="quotation-item-header clearfix" style="height: 38px;">
                              <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_ProductsInformations}</div>
<!-- Copy from PC -->
                                <apex:commandLink rendered="{!!isReadOnly}" value="{!$Label.JEOLAsia_ProjectMaster_Label_CopyfromPC}" styleClass="customButton" style="float: right; display: block; margin: 3px;" oncomplete="lockSafety();" action="{!copyFromPC_PI_onclick}" status="ajaxCopyFromPC_PI" rerender="detailAreaA" />
                            </div>

                            <!-- GRID 1 -->
                            <!-- Grid of items -->
                            <div class="quotation-item-header quotation-detail-header backgroundcolorgrey clearfix">

                              <div class="quotation-detail-header-item quotation-detail-productName quotation-detailA-productName" style="margin-left: 34;">Product Name</div>
                              <div class="quotation-detail-header-item quotation-detail-ModelType quotation-detailA-ModelType" style="width: 455px;">Model Type</div>
                              <div class="quotation-detail-header-item quotation-detail-quantity quotation-detailA-quantity" style="width: 80px;">Qty</div>
                              <!-- <div class="quotation-detail-header-item quotation-detail-UnitPrice quotation-detailA-UnitPrice">Unit Price</div>
                              <div class="quotation-detail-header-item quotation-detail-CatalogCurrency quotation-detailA-CatalogCurrency">Cur</div>
                              <div class="quotation-detail-header-item quotation-detail-CostPrice quotation-detailA-CostPrice">Cost Price<br/>
                                <apex:outputText rendered="{!hasDetailsA}" value="({!qdm.parentRec.SalesCurrency__c})" />
                              </div>
                              <div class="quotation-detail-header-item quotation-detail-SalesPrice quotation-detailA-SalesPrice">Sales Price<br/>
                                <apex:outputText rendered="{!hasDetailsA}" value="({!qdm.parentRec.SalesCurrency__c})" />
                              </div> -->
                            </div>

                            <div class="field ajaxRequestStatus">
                              <apex:actionStatus layout="block"  id="ajaxCopyFromPC_PI">
                                <apex:facet name="start">
                                  <div class="ajaxStatusView" >{!$Label.JEOL_QuotEdit_Label_Searching}</div>
                                </apex:facet>
                              </apex:actionStatus>
                            </div>

                            <apex:outputPanel layout="block" styleClass="quotation-item-body clearfix quotation-detail-list quotation-detail-listA">
                              <apex:outputPanel layout="none" rendered="{!hasDetailsA}">
                                <apex:repeat value="{!qdm.itemsA}" var="item" >

                                  <!-- NORMAL ROW -->
                                  <apex:outputPanel id="detail_productA" layout="block" html-data-depth="{!item.rec.Depth__c}" html-data-sortNo="{!item.rec.SortNo__c}" html-data-section-type="A" html-data-type="{!item.rec.Type__c}" html-data-tax-target="{!item.rec.IsTaxationTarget__c}" html-data-overhead-target="{!item.rec.IsOverheadTarget__c}" html-data-show-target="{!item.rec.IsShowDetailAmount__c}" html-data-accompanying-paper-output="{!item.rec.AccompanyingPaperOutput__c}" styleClass="quotation-detail-item quotation-detail-itemA clearfix" rendered="{!item.rec.Type__c = '1'}">
<!--
                                    <div class="{!IF(isReadOnly,'hidden','field')}">
                                      <div class="quotation-detail-action sortableAction sortableActionA" onmousedown="dragActionA(this);" >
                                        <div class="sortable-pointer"></div>
                                      </div>
                                    </div>
-->
<!-- ï¼œï¼žãƒœã‚¿ãƒ³ -->
<!--
                                    <div class="{!IF(isReadOnly,'hidden','field')}">
                                      <div class="quotation-detail-action configAction clearfix">
                                        <apex:outputLink value="javascript: void(0);" onclick="removeDepth(this);lockSafety();return false;" styleClass="paragraph-option paragraph-up">&lsaquo;</apex:outputLink>
                                        <apex:outputLink value="javascript: void(0);" onclick="addDepth(this);lockSafety();return false;" styleClass="paragraph-option paragraph-down">&rsaquo;</apex:outputLink>
                                      </div>
                                    </div>
-->
                                    <div class="hidden">
                                      <apex:inputHidden html-class="quotation-detail-Amount-input" value="{!item.rec.Amount__c}" />
                                      <apex:inputHidden html-class="quotation-detail-sortNo" value="{!item.rec.SortNo__c}" />
                                      <apex:inputHidden html-class="quotation-detail-depth" value="{!item.rec.Depth__c}" />
                                      <apex:inputHidden html-class="quotation-detail-totalDiscountAmount-input" value="{!item.rec.Amount__c}" />
                                      <apex:inputHidden html-class="quotation-detail-CostPrice-input" value="{!item.rec.CostPrice__c}" />
                                      <apex:inputHidden html-class="quotation-detail-CostPriceJProdUnit" value="{!item.rec.CostPriceJProdUnit__c}" />
                                    </div>

                                    <!-- Product Name -->
                                    <div class="field" style="overflow-x: hidden;{!IF(isReadOnly,'margin-left: 63px;width: 320px;','')}" >
                                      <div class="indent-wrap" >
<!--
                                        <button class="{!IF(isReadOnly,'hidden','productSelectButton')}" type="button" data-toggle="modal" onclick="initDetailProductItemManage($j(this).closest('.quotation-detail-item'));setOpenModalDetailId(this);" data-target="#detailProductItemView"></button>
-->
<!--
                                        <apex:inputField rendered="{!!isReadOnly}" id="quotation-detail-productNameA" styleClass="field-value quotation-detail-productName" value="{!item.rec.Body__c}" html-data-compare-value="{!item.rec.Body__c}" onfocus="detailBodyFocus(this);" onblur="detailBodyBlur(this);safetyLockCheck(this);" html-placeholder="{!$Label.JEOL_QuotEdit_Label_ProductName}" ></apex:inputField>
-->
                                        <apex:outputText id="quotation-detail-productNameAView" styleClass="field-value quotation-detail-productName quotation-detailA-productName" value="{!item.rec.Body__c}" />
                                      </div>
                                    </div>

                                    <!-- Model Type -->
                                    <div class="field clearfix" style="{!IF(isReadOnly,'width: 110px;','')}">
<!--
                                      <apex:inputField rendered="{!!isReadOnly}" value="{!item.rec.ModelType__c}" styleClass="field-value quotation-detail-ModelType quotation-detailA-ModelType" html-placeholder="Model Type" html-data-compare-value="{!item.rec.ModelType__c}" onfocus="openSearchToggleButton(this);makeSuggestions(this);" onblur="safetyLockCheck(this);" onkeyup="makeSuggestions(this);" />
                                      <a class="{!IF(isReadOnly,'hidden','productSearchButton')}" href="javascript: void(0);"  title="ã‚³ãƒ¼ãƒ‰æ¤œç´¢" onclick="searchProductItem(this);lockSafety();return false;">
                                        <span class="refresh-icon"></span>
                                      </a>
-->
                                      <apex:outputText value="{!item.rec.ModelType__c}" styleClass="field-value quotation-detail-ModelType quotation-detailA-ModelType" style="width: 455px;"/>
                                    </div>
                                    <datalist id="suggest_listA"></datalist>

                                    <!-- Qty -->
                                    <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-quantity quotation-detailA-quantity number " value="{!item.rec.Quantity__c}" style="width: 80px;"/>
                                    </div>

                                    <!-- Unit Price -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-UnitPrice quotation-detailA-UnitPrice number " value="{0, number, ###,###,###,###,###,##0.00}" >
                                        <apex:param value="{!item.rec.UnitPrice__c}" />
                                      </apex:outputText>
                                    </div> -->

                                    <!-- Cur -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-CatalogCurrency quotation-detailA-CatalogCurrency" value="{!item.rec.CatalogCurrency__c}" />
                                    </div> -->

                                    <!-- Cost Price -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-CostPrice quotation-detailA-CostPrice number" value="{0, number, ###,###,###,###,###,##0.00}" >
                                        <apex:param value="{!item.rec.CostPrice__c}" />
                                      </apex:outputText>
                                    </div> -->

                                    <!-- Sales Price -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-SalesPrice quotation-detailA-SalesPrice number " value="{0, number, ###,###,###,###,###,##0.00}" >
                                        <apex:param value="{!item.rec.SalesPrice__c}" />
                                      </apex:outputText>
                                    </div> -->

                                  </apex:outputPanel>



                                  <!-- SUMMARY ROW -->
                                  <apex:outputPanel id="detail_titleA" layout="block" html-data-depth="{!item.rec.Depth__c}" html-data-sortNo="{!item.rec.SortNo__c}" html-data-section-type="A" html-data-type="{!item.rec.Type__c}" html-data-accompanying-paper-output="{!item.rec.AccompanyingPaperOutput__c}" styleClass="quotation-detail-item quotation-detail-itemA clearfix" rendered="{!item.rec.Type__c = '2'}">
<!--
                                    <div class="{!IF(isReadOnly,'hidden','field')}">
                                      <div class="quotation-detail-action sortableAction sortableActionA" onmousedown="dragActionA(this);" >
                                        <div class="sortable-pointer"></div>
                                      </div>
                                    </div>
-->

<!-- ï¼œï¼žãƒœã‚¿ãƒ³ -->
<!--
                                    <div class="{!IF(isReadOnly,'hidden','field')}">
                                      <div class="quotation-detail-action configAction">
                                        <apex:outputLink value="javascript: void(0);" onclick="removeDepth(this);lockSafety();return false;" styleClass="paragraph-option paragraph-up">&lsaquo;</apex:outputLink>
                                        <apex:outputLink value="javascript: void(0);" onclick="addDepth(this);lockSafety();return false;" styleClass="paragraph-option paragraph-down">&rsaquo;</apex:outputLink>
                                      </div>
                                    </div>
-->
                                    <div class="hidden">
                                      <apex:inputHidden html-class="quotation-detail-sortNo" value="{!item.rec.SortNo__c}" />
                                      <apex:inputHidden html-class="quotation-detail-depth" value="{!item.rec.Depth__c}" />
                                    </div>
<!-- å“å -->
                                    <div class="field" style="overflow-x: hidden;{!IF(isReadOnly,'margin-left: 63px;width: 790px;','')}">
                                      <div class="indent-wrap" >
<!--
                                        <apex:inputField rendered="{!!isReadOnly}" styleClass="field-value quotation-detail-headingBody" value="{!item.rec.Body__c}" onfocus="detailBodyFocus(this);" onblur="safetyLockCheck(this);detailBodyBlur(this);" html-data-compare-value="{!item.rec.Body__c}" />
-->
                                        <apex:outputText styleClass="field-value quotation-detail-headingBody" value="{!item.rec.Body__c}" />
                                      </div>
                                    </div>

                                    <div class="field">
                                      <div class="panel-area clearfix" >
                                        <div class="option-view-panel" ></div>
                                        <div class="option-view-panel" ></div>
                                        <div class="option-view-panel" ></div>
<!-- åˆ¥ -->
                                        <div class="option-view-panel accompanyingPaperOutput" data-target-class="isAccompanyingPaperOutput" onclick="optionSettingFromPanelClick(this);lockSafety();">{!$Label.JEOL_QuotEdit_Label_SeparateSheetShort}</div>
                                        <div class="option-view-panel" ></div>
                                      </div>
                                    </div>
                                    <div class="field" data-type="dropdown">
                                      <button type="button" onclick="dropdownAction(this);" data-type="button" class="optionalButton">â–¼</button>
                                      <ul class="detail-options" data-type="list" style="{!IF(language <> 'ja', 'width: 225px;', '')}">
<!--
                                        <li style="height: 30px;{!IF(language <> 'ja', 'width: 225px;', '')}" class="{!IF(isReadOnly,'hidden','field detail-options-item')}" data-type="item">
<!-- æ˜Žç´°ã®ã‚³ãƒ”ãƒ¼ -->
<!--
                                          <apex:commandLink action="{!item.copyAction}" title="{!$Label.JEOL_QuotEdit_Label_CloneRow}" onclick="lockSafety();clearAction(this);" rerender="detailAreaA,modalListView,modalListViewDel,SubtotalA,SubtotalB,SubtotalC,SubtotalD,SubtotalE,SubtotalF,SubtotalG,totalResult,apexMessage" styleClass="quotation-detail-action" status="ajaxStatusA" style="{!IF(language <> 'ja', 'width: 225px;', '')}">{!$Label.JEOL_QuotEdit_Label_CloneRow}</apex:commandLink>
                                        </li>
-->
                                        <li class="{!IF(isReadOnly,'hidden','')}" ><hr/></li>
                                        <li style="height: 30px;{!IF(language <> 'ja', 'width: 225px;', '')}" class="field detail-options-item" data-type="item">
                                          <div class="accompanyingPaperOutput"></div>
<!-- åˆ¥ç´™å‡ºåŠ› -->
                                          <apex:outputLabel for="isAccompanyingPaperOutput-breakdownA" value="{!$Label.JEOL_QuotEdit_Label_SeparateSheet}" styleClass="field-label" style="{!IF(language <> 'ja', 'width: 175px;', '')}" />
                                          <apex:outputField id="isAccompanyingPaperOutput-breakdownA" value="{!item.rec.AccompanyingPaperOutput__c}" styleClass="field-value isAccompanyingPaperOutput" />
                                        </li>
                                        <li><hr/></li>
<!-- é–‰ã˜ã‚‹ -->
                                        <li style="height: 30px;{!IF(language <> 'ja', 'width: 225px;', '')}" class="field detail-options-item close-option" data-type="item">
                                          <apex:outputLink value="javascript: void(0);" styleClass="closeButton" onclick="clearAction(this);$j(this).closest('[data-type=\'dropdown\']').find('[data-type=\'button\']').trigger('focus');return false;" >{!$Label.JEOL_QuotEdit_Label_Close}</apex:outputLink>
                                        </li>
                                      </ul>
                                    </div>
<!--
                                    <div class="{!IF(isReadOnly,'hidden','field')}" >
<!-- é …ç›®ã®å‰Šé™¤
                                      <apex:commandLink action="{!item.deleteAction}" title="{!$Label.JEOL_QuotEdit_Label_RemoveRow}" onclick="lockSafety();" rerender="detailAreaA,modalListView,modalListViewDel,SubtotalA,SubtotalB,SubtotalC,SubtotalD,SubtotalE,SubtotalF,SubtotalG,totalResult,apexMessage" styleClass="quotation-detail-action deleteAction" status="ajaxStatusA" >Ã—</apex:commandLink>
                                    </div>
-->
                                  </apex:outputPanel>

                                </apex:repeat>
                              </apex:outputPanel>

<!-- æ˜Žç´°ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ -->
                              <apex:outputPanel layout="none" rendered="{!!hasDetailsA}">
                                <div style="padding: 10px; margin: 2px 0px;">{!$Label.JEOL_QuotEdit_Message_DetailNotCreated}</div>
                              </apex:outputPanel>
                            </apex:outputPanel>

<!-- å‡¦ç†ä¸­ -->
                            <apex:actionStatus layout="block" onstop="initWithCalcurate();focusOpenModalDetail();" id="ajaxStatusA" startStyleClass="ajax-status-start">
                              <apex:facet name="start">
                                <div class="ajax-status-start-inner ajax-loading">
                                  <span style="position:relative; z-index: 2;">{!$Label.JEOL_QuotEdit_Label_Searching}</span>
                                </div>
                              </apex:facet>
                            </apex:actionStatus>

<!-- â– L/S Informations -->
                            <apex:variable value="{!qdm.currentSizeB > 0}" var="hasDetailsB" />

                            <!-- GRID 2 -->
                            <!-- Grid of items -->
                            <div class="quotation-item-header quotation-detail-header backgroundcolorgrey clearfix">
                              <div class="quotation-detail-header-item quotation-detail-productName quotation-detailB-productName" style="margin-left: 34;">Product Name</div>
                              <div class="quotation-detail-header-item quotation-detail-Description quotation-detailB-Description" style="width: 400px;">Description</div>
                              <div class="quotation-detail-header-item quotation-detail-Supplier quotation-detailB-Supplier" style="width: 180px;">Supplier</div>
                              <div class="quotation-detail-header-item quotation-detail-quantity quotation-detailB-quantity" style="width: 80px;">Qty</div>
                              <!-- <div class="quotation-detail-header-item quotation-detail-UnitPrice quotation-detailB-UnitPrice">Unit Price</div>
                              <div class="quotation-detail-header-item quotation-detail-CatalogCurrency quotation-detailB-CatalogCurrency">Cur</div>
                              <div class="quotation-detail-header-item quotation-detail-CostPrice quotation-detailB-CostPrice">Cost Price<br/>
                                <apex:outputText rendered="{!hasDetailsB}" value="({!qdm.parentRec.SalesCurrency__c})" />
                              </div>
                              <div class="quotation-detail-header-item quotation-detail-SalesPrice quotation-detailB-SalesPrice">Sales Price<br/>
                                <apex:outputText rendered="{!hasDetailsB}" value="({!qdm.parentRec.SalesCurrency__c})" />
                              </div> -->
                            </div>
                            <apex:outputPanel layout="block" styleClass="quotation-item-body clearfix quotation-detail-list quotation-detail-listB">
                              <apex:outputPanel layout="none" rendered="{!hasDetailsB}">
                                <apex:repeat value="{!qdm.itemsB}" var="item" >

                                  <!-- NORMAL ROW -->
                                  <apex:outputPanel id="detail_productB" layout="block" html-data-depth="{!item.rec.Depth__c}" html-data-sortNo="{!item.rec.SortNo__c}" html-data-section-type="B" html-data-type="{!item.rec.Type__c}" html-data-tax-target="{!item.rec.IsTaxationTarget__c}" html-data-overhead-target="{!item.rec.IsOverheadTarget__c}" html-data-show-target="{!item.rec.IsShowDetailAmount__c}" html-data-accompanying-paper-output="{!item.rec.AccompanyingPaperOutput__c}" styleClass="quotation-detail-item quotation-detail-itemB clearfix" rendered="{!item.rec.Type__c = '1'}">

                                    <div class="hidden">
                                      <apex:inputHidden html-class="quotation-detail-Amount-input" value="{!item.rec.Amount__c}" />
                                      <apex:inputHidden html-class="quotation-detail-sortNo" value="{!item.rec.SortNo__c}" />
                                      <apex:inputHidden html-class="quotation-detail-depth" value="{!item.rec.Depth__c}" />
                                      <apex:inputHidden html-class="quotation-detail-totalDiscountAmount-input" value="{!item.rec.Amount__c}" />
                                    </div>

                                    <!-- BODY__c -->
                                    <div class="field" style="overflow-x: hidden;{!IF(isReadOnly,'margin-left: 63px;width: 320px;','')}" >
                                      <div class="indent-wrap" >

                                        <apex:outputText id="quotation-detail-productNameBView" styleClass="field-value quotation-detail-productName quotation-detailB-productName" value="{!item.rec.Body__c}" />
                                      </div>
                                    </div>

                                    <!-- DESCRIPTION__c -->
                                    <div class="field clearfix" style="{!IF(isReadOnly,'width: 110px;','')}">
                                      <apex:outputText value="{!item.rec.Description__c}" styleClass="field-value quotation-detail-Description quotation-detailB-Description" style="width: 400px;"/>
                                    </div>

                                    <!-- SUPPLIER__c -->
                                    <div class="field clearfix" style="{!IF(isReadOnly,'width: 110px;','')}">
                                      <apex:outputText value="{!item.rec.Supplier__c}" styleClass="field-value quotation-detail-Supplier quotation-detailB-Supplier" style="width: 185px;margin-right: 2px;"/>
                                    </div>

                                    <!-- QUANTITY -->
                                    <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-quantity quotation-detailB-quantity number " value="{!item.rec.Quantity__c}" style="width: 80px;"/>
                                    </div>

                                    <!-- UNIT PRICE -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-UnitPrice quotation-detailB-UnitPrice number " value="{0, number, ###,###,###,###,###,##0.00}" >
                                        <apex:param value="{!item.rec.UnitPrice__c}" />
                                      </apex:outputText>
                                    </div> -->

                                    <!-- CATALOG CURRENCY -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-CatalogCurrency quotation-detailB-CatalogCurrency" value="{!item.rec.CatalogCurrency__c}" />
                                    </div> -->

                                    <!-- COST PRICE -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-CostPrice quotation-detailB-CostPrice number" value="{0, number, ###,###,###,###,###,##0.00}" >
                                        <apex:param value="{!item.rec.CostPrice__c}" />
                                      </apex:outputText>
                                    </div> -->

                                    <!-- SALES PRICE -->
                                    <!-- <div class="field">
                                      <apex:outputText styleClass="field-value quotation-detail-SalesPrice quotation-detailB-SalesPrice number" value="{0, number, ###,###,###,###,###,##0.00}" >
                                        <apex:param value="{!item.rec.SalesPrice__c}" />
                                      </apex:outputText>
                                    </div> -->



                                  </apex:outputPanel>

                                  <!-- SUMMARY ROW -->
                                  <apex:outputPanel id="detail_titleB" layout="block" html-data-depth="{!item.rec.Depth__c}" html-data-sortNo="{!item.rec.SortNo__c}" html-data-section-type="B" html-data-type="{!item.rec.Type__c}" html-data-accompanying-paper-output="{!item.rec.AccompanyingPaperOutput__c}" styleClass="quotation-detail-item quotation-detail-itemB clearfix" rendered="{!item.rec.Type__c = '2'}">

                                    <div class="hidden">
                                      <apex:inputHidden html-class="quotation-detail-sortNo" value="{!item.rec.SortNo__c}" />
                                      <apex:inputHidden html-class="quotation-detail-depth" value="{!item.rec.Depth__c}" />
                                    </div>
<!-- å“å -->
                                    <div class="field" style="overflow-x: hidden;{!IF(isReadOnly,'margin-left: 63px;width: 790px;','')}">
                                      <div class="indent-wrap">
                                        <apex:outputText styleClass="field-value quotation-detail-headingBody" value="{!item.rec.Body__c}" />
                                      </div>
                                    </div>

                                    <div class="field">
                                      <div class="panel-area clearfix" >
                                        <div class="option-view-panel" ></div>
                                        <div class="option-view-panel" ></div>
                                        <div class="option-view-panel" ></div>
<!-- åˆ¥ -->
                                        <div class="option-view-panel accompanyingPaperOutput" data-target-class="isAccompanyingPaperOutput" onclick="optionSettingFromPanelClick(this);lockSafety();">{!$Label.JEOL_QuotEdit_Label_SeparateSheetShort}</div>
                                        <div class="option-view-panel" ></div>
                                      </div>
                                    </div>
                                    <div class="field" data-type="dropdown">
                                      <button type="button" onclick="dropdownAction(this);" data-type="button" class="optionalButton">â–¼</button>
                                      <ul class="detail-options" data-type="list" style="{!IF(language <> 'ja', 'width: 225px;', '')}">
                                        <li style="height: 30px;{!IF(language <> 'ja', 'width: 225px;', '')}" class="field detail-options-item" data-type="item">
                                          <div class="accompanyingPaperOutput"></div>
<!-- åˆ¥ç´™å‡ºåŠ› -->
                                          <apex:outputLabel for="isAccompanyingPaperOutput-breakdownB" value="{!$Label.JEOL_QuotEdit_Label_SeparateSheet}" styleClass="field-label" style="{!IF(language <> 'ja', 'width: 175px;', '')}" />
                                          <apex:outputField id="isAccompanyingPaperOutput-breakdownB" value="{!item.rec.AccompanyingPaperOutput__c}" styleClass="field-value isAccompanyingPaperOutput" />
                                        </li>
                                        <li><hr/></li>
<!-- é–‰ã˜ã‚‹ -->
                                        <li style="height: 30px;{!IF(language <> 'ja', 'width: 225px;', '')}" class="field detail-options-item close-option" data-type="item">
                                          <apex:outputLink value="javascript: void(0);" styleClass="closeButton" onclick="clearAction(this);$j(this).closest('[data-type=\'dropdown\']').find('[data-type=\'button\']').trigger('focus');return false;" >{!$Label.JEOL_QuotEdit_Label_Close}</apex:outputLink>
                                        </li>
                                      </ul>
                                    </div>
                                  </apex:outputPanel>
                                </apex:repeat>
                              </apex:outputPanel>
<!-- æ˜Žç´°ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ -->
                              <apex:outputPanel layout="none" rendered="{!!hasDetailsB}">
                                <div style="padding: 10px; margin: 2px 0px;">{!$Label.JEOL_QuotEdit_Message_DetailNotCreated}</div>
                              </apex:outputPanel>

<!-- Organization Description -->
                              <div class="field" style="float: left;width:100%;">

                                <apex:outputLabel value="Organization Description" for="ordDesc" styleClass="field-label" />
                                <apex:inputField rendered="{!!isReadOnly}" 
                                                 id="ordDesc" 
                                                 styleClass="field-value shipmentPhone" 
                                                 style="width: CALC(100% - 96px);" 
                                                 value="{!qdm.parentRec.OrganizationDescription__c}" 
                                                 html-data-compare-value="{!qdm.baseParentRec.OrganizationDescription__c}" 
                                                 onblur="safetyLockCheck(this);" />
                                <apex:outputText rendered="{!isReadOnly}" 
                                                 id="ordDescView" 
                                                 styleClass="contractBelongView" 
                                                 style="width: CALC(100% - 96px);" 
                                                 value="{!qdm.parentRec.OrganizationDescription__c}" />

                              </div>

                            </apex:outputPanel>
                          </apex:outputPanel>

<!-- â– Contract Informations Section -->
                          <div style="float: left;width:100%;">

                            <div class="quotation-item rate-area">
                              <div class="quotation-item-header clearfix" style="height: 38px;">
                                <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_ContractInformations}</div>
                              </div>
                            </div>
<!-- Contract Start Date -->
                            <div class="field">
                              <apex:outputLabel style="width: 140px;" value="{!$Label.JEOLAsia_ProjectMaster_ContractStartDate}" for="contractStartDate" styleClass="field-label" />
                              <apex:inputField style="width: 150px;" rendered="{!!isReadOnly}" id="contractStartDate" styleClass="field-value contractStartDate" value="{!qdm.parentRec.ContractStartDate__c}" html-data-compare-value="{!qdm.baseParentRec.ContractStartDate__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="contractStartDateView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractStartDate__c}"  />
                            </div>


                            <div class="field">
                              <apex:outputLabel styleClass="field-label" />
                              <apex:outputText styleClass="contractBelongView" />
                            </div>

<!-- Contract End Date -->
                            <div class="field">
                              <apex:outputLabel style="width: 140px;" value="{!$Label.JEOLAsia_ProjectMaster_ContractEndDate}" for="contractEndDate" styleClass="field-label" />
                              <apex:inputField style="width: 150px;" rendered="{!!isReadOnly}" id="contractEndDate" styleClass="field-value contractEndDate" value="{!qdm.parentRec.ContractEndDate__c}" html-data-compare-value="{!qdm.baseParentRec.ContractEndDate__c}" onblur="safetyLockCheck(this);" />
                              <apex:outputText rendered="{!isReadOnly}" id="contractEndDateView" styleClass="contractBelongView" value="{!qdm.parentRec.ContractEndDate__c}"  />
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </apex:outputPanel>


              <style>
                .modal-dialog .modal-content {
                  border: 2px solid #5e82b2;
                  //overflow: hidden;
                }
                .modal-dialog.modal-alert .modal-content {
                  border: 2px solid #e34b4b;
                }
                #OutputPrintView .modal-dialog {width: 600px;}
                #wordSettingView .modal-dialog {width: 631px;}
                #detailImportView .modal-dialog {width: 1180px;}
                #detailProductItemView .modal-dialog {width: 882px;}
                #destinationPrintView .modal-dialog {width: 822px;}
                #certificatePrintView .modal-dialog {width: 822px;}
                #multiDeleteView .modal-dialog {width: 822px;}
                .modal-dialog .modal-content .modal-header {
                  background: #5e82b2;
                  background: -moz-linear-gradient(top,  #5e82b2 0%, #5575a1 100%);
                  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#5e82b2), color-stop(100%,#5575a1));
                  background: -webkit-linear-gradient(top,  #5e82b2 0%,#5575a1 100%);
                  background: -o-linear-gradient(top,  #5e82b2 0%,#5575a1 100%);
                  background: -ms-linear-gradient(top,  #5e82b2 0%,#5575a1 100%);
                  background: linear-gradient(to bottom,  #5e82b2 0%,#5575a1 100%);
                  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#5e82b2', endColorstr='#5575a1',GradientType=0 );
                  text-shadow: -1px -1px #415b7c, 1px 1px #415b7c;
                  font-size: 16px;
                  font-weight: bold;
                  color: #fff;
                  border-bottom: none;
                }
                .modal-dialog.modal-alert .modal-content .modal-header {
                  background: #e34b4b; /* Old browsers */
                  background: -moz-linear-gradient(top,  #e34b4b 0%, #993737 100%); /* FF3.6+ */
                  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#e34b4b), color-stop(100%,#993737)); /* Chrome,Safari4+ */
                  background: -webkit-linear-gradient(top,  #e34b4b 0%,#993737 100%); /* Chrome10+,Safari5.1+ */
                  background: -o-linear-gradient(top,  #e34b4b 0%,#993737 100%); /* Opera 11.10+ */
                  background: -ms-linear-gradient(top,  #e34b4b 0%,#993737 100%); /* IE10+ */
                  background: linear-gradient(to bottom,  #e34b4b 0%,#993737 100%); /* W3C */
                  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e34b4b', endColorstr='#993737',GradientType=0 ); /* IE6-9 */
                }
                .modal-dialog .modal-body {
                }
                .modal-body .search-area {
                  padding-top: 0px;
                  background-color: #becde0;
                  border: none;
                  padding: 8px;
                  margin-bottom: 16px;
                  position: relative;
                }
                .modal-dialog .modal-content .modal-body .search-area .toggle-button {
                  width: 80px;
                  height: 20px;
                  border-radius: 0 0 6px 6px;
                  border: 1px solid #7e9bc1;
                  background-color: #ffffff;
                  text-align: center;
                  cursor: pointer;
                  line-height: 20px;
                  position: absolute;
                  top: 100%;
                  padding: 0px;
                }
                .modal-body .search-area .toggle-button:before {
                  content: 'â–¼';
                }
                .modal-body .search-area .collapse.in + .toggle-button:before {
                  content: 'â–²';
                }
                .modal-body .search-area .section-body .field,
                .modal-body .search-area .section-body .field .field-value[type="text"] {
                  width: 100%;
                }
                .modal-body .search-area .section-body .search-field {
                  display: table;
                  float: left;
                }
                .modal-body .search-area .section-body .search-field .field {
                  display: table-row;
                  float: none;
                }
                .modal-body .search-area .section-body .search-field .field .field-label,
                .modal-body .search-area .section-body .search-field .field .field-value[type="text"] {
                  display: table-cell;
                }
                .modal-body .search-area .section-body .search-field .field .field-label {
                  width: 1%;
                  min-width: 80px;
                  white-space: nowrap;
                }
                .modal-body .search-area .section-body .search-field .field .field-value[type="text"] {
                  width: 100%;
                }
                .modal-body .search-area .section-body .field.field-fitness,
                .modal-body .search-area .section-body .field.field-fitness .field-value {
                  width: auto;
                }
                .modal-dialog .modal-body .errors {
                  display: none;
                }
                .modal-dialog .modal-body .select-area {
                  width: 100%;
                }
                .modal-dialog .modal-body .select-area>* {
                  float: left;
                }
                .modal-dialog .modal-body .select-area:after {
                  content: ".";
                  display: block;
                  height: 0px;
                  overflow: hidden;
                  clear: both;
                }
                .modal-dialog .modal-content .modal-body .select-area .item-list {
                  width: 100%;
                  height: 342px;
                  overflow: auto;
                }
                .setting-row {
                  width: 100%;
                }
                fieldset.setting-row {
                  margin-top: 20px;
                }
                fieldset.setting-row legend {
                  color: inherit;
                  font-weight: normal;
                  padding: 4px 8px;
                }
                .contents .modal-body .options-area .output-controls fieldset.setting-row .field .field-label {
                  line-height: 30px;
                  padding: 0px 8px;
                }

                .contents .modal-body .options-area .output-controls fieldset.setting-row .field .field-label,
                .contents .modal-body .options-area .output-controls fieldset.setting-row .field .field-value {
                  height: 30px;
                  vertical-align: middle;
                }
                .setting-row .word-text .field-value,
                .setting-row .word-text .field-label {
                  font-size: 13px;
                  text-align: left;
                  width: 452px;
                  margin-left: 8px;
                }
                .setting-row .word-select-list .field-value,
                .setting-row .word-select-list .field-label {
                  font-size: 13px;
                  width: 116px;
                  text-align: left;
                }
                .modal-dialog .modal-content .modal-body .select-area .table {
                  display: table;
                  width: 100%;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .table {
                  width: 396px;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item {
                  display: table-row;
                  padding: 4px;
                  border-radius: 2px;
                  border: 1px solid #cccccc;
                  //height: 58px;
                  margin-top: -1px;
                  user-select: none;
                  -moz-user-select: none;
                  -webkit-user-select: none;
                  -ms-user-select: none;
                  cursor: pointer;
                  overflow: hidden;
                  background-color: #fff;
                }

                .modal-dialog .modal-content .modal-body .select-area .table .item:first-child {
                  margin-top: 0px;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item:hover .field {
                  border-top: 1px solid #00ABFF;
                  border-color: #00ABFF;
                  box-shadow: 0 1px 5px rgba(0,171,255,0.25);
                  background-color: #fff;
                  position: relative;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item:first-child:hover .field:first-child {
                  border-left-color: #666;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item:hover .field:first-child {
                  border-left-color: #00ABFF;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item:hover .field:last-child {
                  border-right-color: #00ABFF;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item:last-child:hover .field {
                  border-bottom-color: #00ABFF;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item .field.head {
                  border-color: #666;
                  box-shadow: none;
                  background-color: #becde0;
                  position: static;
                  cursor: default;
                }
                .modal-dialog .modal-content .modal-body .select-area .item-list .table .item.selected .field {
                  background-color: #00ABFF;
                  color: #fff;
                }
                .modal-dialog .modal-content .modal-body .select-area .item-list .table .item.selected .field:first-child {
                  border-left-color: #00ABFF;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item.selected:hover .field {
                  background-color: #00ABFF;
                  color: #fff;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item .field {
                  display: table-cell;
                  margin: 0;
                  float:none;
                  border: 1px solid #eee;
                  border-left: none;
                  border-top: none;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item:first-child .field {border-top: 1px solid #666;}
                .modal-dialog .modal-content .modal-body .select-area .table .item:last-child .field {border-bottom: 1px solid #666;}
                .modal-dialog .modal-content .modal-body .select-area .table .item .field:first-child {border-left: 1px solid #666;}
                .modal-dialog .modal-content .modal-body .select-area .table .item .field:last-child {border-right-color: #666;}

                .modal-dialog .modal-content .modal-body .select-area .table .item .field .field-label {
                  font-size: 12px;
                  padding: 0 8px;
                  width: 80px;
                  margin: 3px 0px;
                  color: #999999;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item .field .field-value {
                  font-size: 12px;
                  margin-left: 4px;
                  overflow: hidden;
                  padding: 2px 8px;
                  vertical-align: middle;
                  white-space: nowrap;
                  text-overflow: ellipsis;
                  height: auto;
                  line-height: normal;
                  width: 100%;
                }
                .modal-dialog .modal-content .modal-body .select-area .table .item .field .field-value.number {
                  text-align: right;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree {
                  padding: 8px;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .selected-area .tree>.item {
                  border: 1px solid #999;
                  margin-top: -1px;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .selected-area .tree>.item:first-child {
                  margin-top: 0px;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item {
                  display: block;
                  border-radius: 2px;
                  user-select: none;
                  -moz-user-select: none;
                  -webkit-user-select: none;
                  -ms-user-select: none;
                  cursor: pointer;
                  background-color: #fff;
                  padding-bottom: 4px;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item:after {
                  content: "";
                  display:block;
                  width: 100%;
                  height: 0px;
                  clear: both;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item .tree-view {
                  //float: left;
                  width: 100%;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item .tree-view:hover {
                  background-color: #ddd;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item[data-target]>.tree-view:before {
                  display: inline-block;
                  margin-right: 8px;
                  background-image: url("{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/images/folder.png')}");
                  background-position: center center;
                  background-size: contain;
                  background-repeat: no-repeat;
                  vertical-align: text-bottom;
                  width: 20px;
                  height: 20px;
                  content: "";
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item.open[data-target]>.tree-view:before {
                  background-image: url("{!URLFOR($Resource.JEOL_CustomizedMaterials, 'JEOL_CustomizedMaterials/images/folder_open.png')}");
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item .tree-fieldset {
                  width: 100%;
                  float: left;
                  display: none;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item>.children {
                  display: none;
                  width: 100%;
                  float: left;
                  padding-left: 8px;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item>.children>.tree>.item:before {
                  display: block;
                  float: left;
                  content: "â”—";
                  height: 20px;
                  line-height: 20px;
                  margin-right: 8px;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item.open>.children {
                  display: block;
                }
                .modal-dialog .modal-content .modal-body #productCatalogTabPanel .select-area .tree .item.item-drag>.children {
                  display: none;
                }
                #detailProductItemView[data-tab-target] [data-tab-panel] {
                  display: none;
                }
                #detailProductItemView[data-tab-target="productItemSearch"] [data-tab-panel="productItemSearch"],
                #detailProductItemView[data-tab-target="catalogItemSearch"] [data-tab-panel="catalogItemSearch"] {
                  display: block;
                }
                [data-tab-target] .tab-buttons {
                  margin-top: 8px;
                }
                [data-tab-target] .tab-buttons .tab {
                  position: relative;
                  bottom: -2px;
                  padding: 2px 16px;
                  border: 1px solid #7e9bc1;
                  border-bottom: none;
                  background: none;
                  color: #999;
                  margin: 0px 4px;
                  font-weight: normal;
                  border-radius: 4px 4px 0px 0px;
                  transition: color 0.3s ease 0s;
                }
                [data-tab-target] .tab-buttons .tab:hover,
                [data-tab-target] .tab-buttons .tab.active {
                  padding: 4px 16px;
                  bottom: 0px;
                  background-color: #fff;
                  color: #333;
                }
                [data-tab-target] .tab-panel {
                  border: 1px solid #7e9bc1;
                }
                #detailProductItemView .section .detail-product-action-area,
                #detailImportView .section .quotation-detail-action-area {
                  padding: 4px;
                  float: right;
                }
                #detailProductItemView .section .detail-product-action-area:first-child,
                #detailImportView .section .quotation-detail-action-area:first-child {
                  float: left;
                }
                #detailProductItemView .section .detail-product-action-area .title,
                #detailImportView .section .quotation-detail-action-area .title {
                  width: auto;
                  line-height: 40px;
                }
                #detailProductItemView .section .detail-product-action-area hr,
                #detailImportView .section .quotation-detail-action-area hr {
                  float: left
                }
                #detailProductItemView .select-area .item-list,
                #detailProductItemView .select-area .selected-list {
                  height: 348px;
                }
                #detailProductItemView .select-area .selected-list {
                  float: right;
                }
                #detailProductItemView .section .detail-product-action-area,
                #detailProductItemView .select-area .item-list,
                #detailProductItemView .select-area .selected-list {
                  width: 406px;
                  overflow: auto;
                }
                #detailImportView .select-area .item-list,
                #detailImportView .select-area .detail-list,
                #detailImportView .select-area .list-separator {
                  height: 348px;
                }
                #detailImportView .section .quotation-detail-action-area,
                #detailImportView .select-area .item-list,
                #detailImportView .select-area .detail-list {
                  width: 47%;
                }
                #detailImportView .select-area .detail-list {
                  overflow: auto;
                }
                #detailImportView .select-area .list-separator {
                  width: 6%;
                  overflow: hidden;
                  position: relative;
                }

                #detailImportView .select-area .list-separator:before,
                #detailImportView .select-area .list-separator:after {
                  content: " ";
                  display: block;
                  width: 20px;
                  height: 70px;
                  background-color: #ccc;
                  position: absolute;
                  margin: auto;
                  top: 0px;
                  left: 0px;
                  right: 0px;
                  bottom: 0px;
                }
                #detailImportView .select-area .list-separator:before {
                  transform: rotate(-30deg) translate(11px, -24px);
                  -moz-transform: rotate(-30deg) translate(11px, -24px);
                  -webkit-transform: rotate(-30deg) translate(11px, -24px);
                  -ms-transform: rotate(-30deg) translate(11px, -24px);
                  border-radius: 0px 100% 0px 0px;
                  -moz-border-radius: 0px 100% 0px 0px;
                  -webkit-border-radius: 0px 100% 0px 0px;
                  -ms-border-radius: 0px 100% 0px 0px;
                }
                #detailImportView .select-area .list-separator:after {
                  transform: rotate(30deg) translate(11px, 24px);
                  -moz-transform: rotate(30deg) translate(11px, 24px);
                  -webkit-transform: rotate(30deg) translate(11px, 24px);
                  -ms-transform: rotate(30deg) translate(11px, 24px);
                  border-radius: 0px 0px 100% 0px;
                  -moz-border-radius: 0px 0px 100% 0px;
                  -webkit-border-radius: 0px 0px 100% 0px;
                  -ms-border-radius: 0px 0px 100% 0px;
                }
                #detailImportView .select-area .item-list {
                  float: left;
                  border: 3px solid transparent;
                }
                #detailProductItemView .select-area .selected-list {
                  border: 3px dashed #eee;
                  border-radius: 4px;
                  margin-left: 0px;
                  float: right;
                  overflow-y: auto;
                  overflow-x: overlay;
                }
                #detailProductItemView .select-area .selected-list .drop-target:empty {
                  display: block;
                  line-height: 326px;
                  margin: 0px;
                  width: 400px;
                  text-align: center;
                  color: #aaa;
                  //background-color: #fff;
                  font-size: 120%;
                }
                #detailProductItemView .select-area .selected-list.drop-hover .drop-target:empty {
                  color: #fff;
                }
                #detailProductItemView .select-area .selected-list .drop-target:empty:after {
                  content: "ãƒ‰ãƒ©ãƒƒã‚° ï¼† ãƒ‰ãƒ­ãƒƒãƒ— ã§é¸æŠžå¯èƒ½ã§ã™ã€‚";
                  display: inline-block;
                  *display: inline;
                  *zoom: 1;
                  width: 100%;
                }
                #detailProductItemView .select-area .selected-list.drop-active {
                  background-color: #eee;
                  border-color: #fff;
                }
                #detailProductItemView .select-area .selected-list.drop-hover {
                  background-color: #becde0;
                  border-color: #fff;
                }
                #detailProductItemView #productItemTabPanel .select-area .selected-list .item {
                  position: relative;
                  top: 0px;
                  box-shadow: 0px -1px 3px -1px rgba(0,0,0,0.4);
                  transition: height 0.2s linear 0s;
                }
                #detailProductItemView .item-drag {
                  width: 402px;
                }
                .modal-dialog .modal-content .modal-footer {
                  overflow: hidden;
                }
                .modal-body .customButton {
                  width: 100%;
                }
                .modal-dialog .modal-content .modal-footer .button-area {
                  overflow: hidden;
                  float: left;
                }
                .modal-dialog .modal-content .modal-footer .button-area.right {
                  float: right;
                }
                .modal-dialog .modal-content .modal-footer .button-area .customButton {
                  float: left;
                  width: 120px;
                  margin-left: 8px;
                }
                .modal-dialog .modal-content .modal-footer .button-area .customButton:first-child {
                  margin-left: 0px;
                }
                .modal-dialog .modal-content .modal-body .section .title,
                .modal-dialog .modal-content .modal-body .section .header {
                  width: 100%;
                  float: left;
                }

                .modal-dialog .modal-content .modal-body .title {
                  font-size: 15px;
                  margin: 12px 0px;
                }
                #OutputPrintView .modal-dialog .modal-content .modal-body .options-area .output-controls .field{
                  width: 154px;
                }
                .modal-dialog .modal-content .modal-body .options-area .output-settings .field .field-label,
                .modal-dialog .modal-content .modal-body .options-area .output-settings .field .field-value,
                .modal-dialog .modal-content .modal-body .options-area .output-controls .field .field-label,
                .modal-dialog .modal-content .modal-body .options-area .output-controls .field .field-value {
                  font-size: 13px;
                  padding: 4px 8px 4px 8px;
                }
                .modal-dialog .modal-content .modal-body .options-area .output-settings .field .field-value {
                  width: 80px;
                }
                .modal-dialog .modal-content .modal-body .options-area .output-controls .field .field-label {
                  width: 112px;
                }
                .modal-dialog .modal-content .item-loading {
                  background-color: #ffffff;
                  position: absolute;
                  opacity: 0.7;
                  filter: alpha(opacity=70);
                  left: 0;
                  top: 0;
                  height: 100%;
                  width: 100%;
                  z-index: 100;
                }
                .customButton.doCancel {
                  width: 100px;
                  float: left;
                }
                .customButton.doDelete {
                  float: left;
                  width: 120px;
                  color: #7F2D2D;
                  border-color: #FF6B6B;
                  margin-left: 12px;
                  margin-right: 12px;
                  text-shadow: none;
                }
                .customButton.doDelete:focus,
                .customButton.doDelete:hover {
                  background-color: #E34B4B;
                  color: #fff;
                  border-color: #E21F1F;
                }
                .customButton.doDelete:active {
                  box-shadow: 0px 1px 3px rgba(0,0,0,0.70) inset;
                }
                .customButton.doSave {
                  width: 120px;
                  float: right;
                }
                .customButton.doOutput {
                  width: 120px;
                  color: #3D6951;
                  border-color: #16874A;
                  text-shadow: none;
                  margin-left: 8px;
                  float: right;
                }
                .customButton.doOutput:hover {
                  background-color: #4CB47C;
                  color: #fff;
                  border-color: #16874A;
                }
                .customButton.doOutput:active {
                  background-color: #309F64;
                }
                .customButton.doPreview {
                  float: right;
                  width: 120px;
                  margin-left: 8px;
                }
                .alert {
                  top: 10px;
                  display: none;
                  position: fixed;
                  text-align: center;
                  width: 100%;
                  opacity: 0;
                  transition: top 0.4s ease-out 0s, opacity 0.4s ease-out 0s;
                  z-index: 2000;
                }
                .alert p {
                  display: inline-block;
                  *display: inline;
                  *zoom: 1;
                  white-space: nowrap;
                  border: 1px solid #FFF100;
                  background-color: #FFFBC6;
                  border-radius: 2px;
                  box-shadow: 0px 2px 3px 1px rgba(0,0,0,0.4);
                  padding: 2px 30px;
                }
                .field .radio-item {
                  float: left;
                }
                .field-value.master-accountCode {
                  width: 72px;
                }
                .field-value.master-contactName,
                .field-value.master-contactPhone,
                .field-value.master-contactBelong,
                .field-value.master-contactPost {
                  width: 108px;
                }
                .field-value.master-accountName {
                  width: 158px;
                }
                .field-value.master-accountAddress {
                  width: 320px;
                }
                .field-value.master-quoteId {
                  display: none;
                }
                #destinationPrintView .modal-dialog .modal-content .modal-body .section .output-controls .field {
                  width: auto;
                }

                .guide-destinationNameTitle {
                  width: 80px;
                }
                .guide-destinationAccountCode,
                .guide-destinationPostalCode {
                  width: 126px;
                }
                .field .guide-destinationGuideDate {
                  width: 100px;
                }

                .guide-destinationName,
                .guide-destinationBelong,
                .guide-destinationPersonInCharge {
                  width: 180px;
                }
                .guide-destinationAccountName,
                .guide-destinationUndergraduate {
                  width: 398px;
                }
                .guide-destinationGuideSubject,
                .guide-destinationAddress {
                  width: 637px;
                }

                .modalDetailList col.checkbox {width: 46px;}
                .modalDetailList col.ModelType {width: 122px;}
                .modalDetailList col.body {width: 400px;}
                .modalDetailList col.amount {width: 200px;}
                .modalDetailList {
                  width: 100%;
                  table-layout: fixed;
                  border-collapse: collapse;
                }
                .modalDetailList tr th,
                .modalDetailList tr td {
                  vertical-align: middle;
                  border: 1px solid #ccc;
                  overflow: hidden;
                }
                .modalDetailList tr th div.field,
                .modalDetailList tr td div.field {
                  float: none;
                  width: 100%;
                }
                .modalDetailList tr td div.field .field-value.center,
                .modalDetailList tr th div.field .field-label.center {
                  text-align: center;
                }
                .modalDetailList tr td div.field .field-value.right,
                .modalDetailList tr th div.field .field-label.right {
                  text-align: right;
                }
                .modalDetailList tr th div.field .field-label,
                .modalDetailList tr td div.field .field-value {
                  text-align: left;
                  padding: 2px 8px;
                  white-space: nowrap;
                  text-overflow: ellipsis;
                  overflow: hidden;
                  border: none;
                  height: auto;
                  width: 100%;
                }
                .modalDetailList tr[data-type="3"] {background-color:#d9edeb;}
                .modalDetailList tr[data-type="4"] {background-color:#F9E4EC;}
                .modalDetailList tr[data-type="5"] {background-color:#abcdef;}
                .modalDetailList tr[data-depth] td div.field .field-value.body:before {content:"&#9493;";padding-right: 4px;color:#ccc;}
                .modalDetailList tr[data-depth="0"] td div.field .field-value.body:before {content:""}

                .modalDetailList tr[data-depth="1"] td div.field .field-value {padding-left: 16px;}
                .modalDetailList tr[data-depth="2"] td div.field .field-value {padding-left: 24px;}
                .modalDetailList tr[data-depth="3"] td div.field .field-value {padding-left: 32px;}
                .modalDetailList tr[data-depth="4"] td div.field .field-value {padding-left: 40px;}
                .modalDetailList tr[data-depth="5"] td div.field .field-value {padding-left: 48px;}

                .search-field-quotation-createdDate {
                    margin-left: 4px;
                }

                  table.delete_table td {
                    width:100px;
                    text-align:center;
                    vertical-align:middle;
                  }
                  table.delete_table tr {
                  }
                  table.delete_table tr.todelete {
                    background-color:#999;
                  }
              </style>

              <script>
                $j(function () {
                  $j(document).mouseup(function () {
                    isMouseDown = false;
                  });
              });
              </script>

<!-- å‰Šé™¤ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
              <div id="alert" class="alert">
                <p class="description" ></p>
              </div>

              <div class="modal fade" id="deleteConfirm" tabindex="-1" role="dialog" aria-labelledby="QuotationDelete" aria-hidden="true">
                <div class="modal-dialog modal-alert">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                      <div id="QuotationDelete" class="screen-name">è¦‹ç©æ›¸ã®å‰Šé™¤</div>
                    </div>
                    <div class="modal-body">
                      <div class="confirm-area">
                        <p>è¦‹ç©æ›¸ã‚’å‰Šé™¤ã—ã¾ã™ã€‚</p>
                        <p>ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ</p>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <div class="button-area right">
                        <button type="button" class="customButton doDelete" onclick="deleteConfirm();" >{!$Label.JEOLAsia_ProjectMaster_Label_Delete}</button>
                        <button type="button" class="customButton doCancel" onclick="$j('#deleteConfirm').modal('hide');" >{!$Label.JEOLAsia_ProjectMasterList_Label_Cancel}</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </apex:form>




<!-- â– Activity Log section -->
            <apex:outputPanel layout="none" id="listMCM" rendered="{!isValid}">

              <apex:variable value="{!AsiaProjectMaster.Id != NULL}" var="hasAct" />

              <div class="section quotation-area base-width">

                <div class="section-body">
                  <div class="quotation-information clearfix">
                    <div style="float: left; width:100%;">
                      <div class="quotation-item profit-Calculation-Informations-area">
                        <div class="quotation-item-header clearfix">
                          <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_MaintenancePipelinesMaintenanceContracts}</div>
                        </div>

<!-- ProjectMasteræœªä½œæˆæ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
                        <apex:outputPanel layout="none" rendered="{!!hasAct}">
                          <div style="padding: 10px; margin: 2px 0px;">{!$Label.JEOLAsia_ProjectMaster_YouNeedToSaveTheProject}</div>
                        </apex:outputPanel>

<!-- ProjectMasterä½œæˆå¾Œã¯ã€æ´»å‹•å±¥æ­´ã‚’è¡¨ç¤º -->
                        <apex:relatedList list="MaintenanceContractManagement_ProjMaster__r" />

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </apex:outputPanel>






<!-- Attachments -->

            <apex:outputPanel layout="none" id="attachmentList" rendered="{!isValid}">

              <apex:variable value="{!AsiaProjectMaster.Id != NULL}" var="hasAct" />

              <div class="section quotation-area base-width">

                <div class="section-body">
                  <div class="quotation-information clearfix">
                    <div style="float: left; width:100%;">
                      <div class="quotation-item profit-Calculation-Informations-area">
                        <div class="quotation-item-header clearfix">
                          <div class="header-title">Notes &amp; Attachments</div>
                        </div>

                        <apex:outputPanel layout="none" rendered="{!!hasAct}">
                          <div style="padding: 10px; margin: 2px 0px;">{!$Label.JEOLAsia_ProjectMaster_YouNeedToSaveTheProject}</div>
                        </apex:outputPanel>

                        <apex:relatedList list="CombinedAttachments" subject="{!AsiaProjectMaster.id}" rendered="{!(AsiaProjectMaster.id != null)}"/>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </apex:outputPanel>




<!-- â– Activity Log section -->
            <apex:outputPanel layout="none" id="listview" rendered="{!isValid}">

              <apex:variable value="{!AsiaProjectMaster.Id != NULL}" var="hasAct" />

              <div class="section quotation-area base-width">

                <div class="section-body">
                  <div class="quotation-information clearfix">
                    <div style="float: left; width:100%;">
                      <div class="quotation-item profit-Calculation-Informations-area">
                        <div class="quotation-item-header clearfix">
                          <div class="header-title">{!$Label.JEOLAsia_ProjectMaster_ActivityLog}</div>
                        </div>

<!-- ProjectMasteræœªä½œæˆæ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
                        <apex:outputPanel layout="none" rendered="{!!hasAct}">
                          <div style="padding: 10px; margin: 2px 0px;">{!$Label.JEOLAsia_ProjectMaster_YouNeedToSaveTheProject}</div>
                        </apex:outputPanel>

<!-- ProjectMasterä½œæˆå¾Œã¯ã€æ´»å‹•å±¥æ­´ã‚’è¡¨ç¤º -->
                        <apex:relatedList title="" subject="{!AsiaProjectMaster}" list="OpenActivities" id="openActivities" />
                        <apex:relatedList title="" subject="{!AsiaProjectMaster}" list="ActivityHistories" id="activityHistories" />

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </apex:outputPanel>

<!-- footer -->
            <div class="footer">
              <apex:include pageName="{!$Page.JEOL_VisualforceFooter}" />
            </div>

          </div>
        </apex:outputPanel>
      </body>
    </html>
  </apex:outputPanel>
</apex:page>